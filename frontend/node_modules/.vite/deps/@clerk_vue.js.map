{
  "version": 3,
  "sources": ["../../@clerk/shared/src/errors/createErrorTypeGuard.ts", "../../@clerk/shared/src/errors/clerkApiError.ts", "../../@clerk/shared/src/errors/parseError.ts", "../../@clerk/shared/src/errors/clerkError.ts", "../../@clerk/shared/src/errors/clerkApiResponseError.ts", "../../@clerk/shared/src/errors/missingExpiredTokenError.ts", "../../@clerk/shared/src/errors/errorThrower.ts", "../../@clerk/shared/src/errors/emailLinkError.ts", "../../@clerk/shared/src/errors/clerkRuntimeError.ts", "../../@clerk/shared/src/errors/webAuthNError.ts", "../../@clerk/shared/src/errors/helpers.ts", "../../@clerk/shared/src/errors/globalHookError.ts", "../../@clerk/vue/src/errors/errorThrower.ts", "../../@clerk/shared/src/authorization.ts", "../../@clerk/vue/src/composables/useClerkContext.ts", "../../@clerk/vue/src/keys.ts", "../../@clerk/vue/src/composables/useClerk.ts", "../../@clerk/vue/src/composables/useAuth.ts", "../../@clerk/vue/src/errors/messages.ts", "../../@clerk/vue/src/utils/childrenUtils.ts", "../../@clerk/vue/src/utils/toComputedRefs.ts", "unplugin-vue:\u0000/plugin-vue/export-helper", "../../@clerk/shared/src/constants.ts", "../../@clerk/shared/src/isomorphicAtob.ts", "../../@clerk/shared/src/keys.ts", "../../@clerk/shared/src/retry.ts", "../../@clerk/shared/src/loadScript.ts", "../../@clerk/shared/src/proxy.ts", "../../@clerk/shared/src/url.ts", "../../@clerk/shared/src/versionSelector.ts", "../../@clerk/shared/src/loadClerkJsScript.ts", "../../@clerk/shared/src/utils/runtimeEnvironment.ts", "../../@clerk/shared/src/deprecated.ts", "../../@clerk/shared/src/underscore.ts", "../../@clerk/shared/src/telemetry/throttler.ts", "../../@clerk/shared/src/telemetry/collector.ts", "../../@clerk/shared/src/telemetry/events/component-mounted.ts", "../../@clerk/shared/src/telemetry/events/method-called.ts", "../../@clerk/shared/src/telemetry/events/framework-metadata.ts", "../../@clerk/shared/src/telemetry/events/theme-usage.ts", "../../@clerk/shared/src/organization.ts", "../../@clerk/shared/src/utils/allSettled.ts", "../../@clerk/shared/src/utils/logErrorInDevMode.ts", "../../@clerk/shared/src/utils/fastDeepMerge.ts", "../../@clerk/shared/src/browser.ts", "../../@clerk/shared/src/deriveState.ts", "../../@clerk/vue/src/index.ts", "../../@clerk/vue/src/components/ClerkHostRenderer.ts", "../../@clerk/vue/src/components/controlComponents.ts", "../../@clerk/vue/src/utils/useClerkLoaded.ts", "../../@clerk/vue/src/composables/useUser.ts", "../../@clerk/vue/src/composables/useSession.ts", "../../@clerk/vue/src/composables/useSignIn.ts", "../../@clerk/vue/src/composables/useSignUp.ts", "../../@clerk/vue/src/composables/useSessionList.ts", "../../@clerk/vue/src/composables/useOrganization.ts", "../../@clerk/vue/src/utils/updateClerkOptions.ts", "../../@clerk/vue/src/components/ui-components/SignIn.vue", "../../@clerk/vue/src/components/ui-components/SignUp.vue", "../../@clerk/vue/src/components/ui-components/GoogleOneTap.vue", "../../@clerk/vue/src/components/ui-components/Waitlist.vue", "../../@clerk/vue/src/components/ui-components/CreateOrganization.vue", "../../@clerk/vue/src/components/ui-components/OrganizationList.vue", "../../@clerk/vue/src/components/ui-components/PricingTable.vue", "../../@clerk/vue/src/components/ui-components/APIKeys.vue", "../../@clerk/vue/src/components/ui-components/UserProfile/index.ts", "../../@clerk/vue/src/components/ui-components/UserProfile/UserProfile.vue", "../../@clerk/vue/src/utils/useCustomPages.ts", "../../@clerk/vue/src/components/ui-components/OrganizationProfile/index.ts", "../../@clerk/vue/src/components/ui-components/OrganizationProfile/OrganizationProfile.vue", "../../@clerk/vue/src/utils/componentValidation.ts", "../../@clerk/vue/src/utils/useCustomElementPortal.ts", "../../@clerk/vue/src/components/ui-components/OrganizationSwitcher/OrganizationSwitcher.vue", "../../@clerk/vue/src/components/ui-components/OrganizationSwitcher/index.ts", "../../@clerk/vue/src/components/ui-components/UserAvatar.vue", "../../@clerk/vue/src/components/ui-components/UserButton/index.ts", "../../@clerk/vue/src/components/ui-components/UserButton/UserButton.vue", "../../@clerk/vue/src/utils/useCustomMenuItems.ts", "../../@clerk/vue/src/components/SignInButton.vue", "../../@clerk/vue/src/components/SignUpButton.vue", "../../@clerk/vue/src/components/SignOutButton.vue", "../../@clerk/vue/src/components/SignInWithMetamaskButton.vue", "../../@clerk/vue/src/plugin.ts"],
  "sourcesContent": ["/* eslint-disable jsdoc/require-jsdoc */\n\ntype Value = unknown;\n\n/**\n * Creates a type guard function for any error class.\n * The returned function can be called as a standalone function or as a method on an error object.\n *\n * @example\n * ```typescript\n * class MyError extends Error {}\n * const isMyError = createErrorTypeGuard(MyError);\n *\n * // As a standalone function\n * if (isMyError(error)) { ... }\n *\n * // As a method (when attached to error object)\n * if (error.isMyError()) { ... }\n * ```\n */\nexport function createErrorTypeGuard<T extends new (...args: any[]) => Value>(\n  ErrorClass: T & { kind?: string },\n): {\n  (error: Value): error is InstanceType<T>;\n  (this: Value): this is InstanceType<T>;\n} {\n  function typeGuard(this: Value, error?: Value): error is InstanceType<T> {\n    const target = error ?? this;\n    if (!target) {\n      throw new TypeError(`${ErrorClass.kind || ErrorClass.name} type guard requires an error object`);\n    }\n    // Use duck-typing with 'kind' property to handle cross-bundle scenarios\n    // where instanceof fails due to different class instances\n    if (ErrorClass.kind && typeof target === 'object' && target !== null && 'constructor' in target) {\n      const targetConstructor = (target as { constructor?: { kind?: string } }).constructor;\n      if (targetConstructor?.kind === ErrorClass.kind) {\n        return true;\n      }\n    }\n    return target instanceof ErrorClass;\n  }\n\n  return typeGuard as {\n    (error: Value): error is InstanceType<T>;\n    (this: Value): this is InstanceType<T>;\n  };\n}\n", "import type { ClerkAPIError as ClerkAPIErrorInterface, ClerkAPIErrorJSON } from '../types';\nimport { createErrorTypeGuard } from './createErrorTypeGuard';\n\nexport type ClerkAPIErrorMeta = Record<string, unknown>;\n\n/**\n * This error contains the specific error message, code, and any additional metadata that was returned by the Clerk API.\n */\nexport class ClerkAPIError<Meta extends ClerkAPIErrorMeta = any> implements ClerkAPIErrorInterface {\n  // TODO: Update kind to match class name in Core 3\n  static kind = 'ClerkApiError';\n  readonly code: string;\n  readonly message: string;\n  readonly longMessage: string | undefined;\n  readonly meta: Meta;\n\n  constructor(json: ClerkAPIErrorJSON) {\n    const parsedError = {\n      code: json.code,\n      message: json.message,\n      longMessage: json.long_message,\n      meta: {\n        paramName: json.meta?.param_name,\n        sessionId: json.meta?.session_id,\n        emailAddresses: json.meta?.email_addresses,\n        identifiers: json.meta?.identifiers,\n        zxcvbn: json.meta?.zxcvbn,\n        plan: json.meta?.plan,\n        isPlanUpgradePossible: json.meta?.is_plan_upgrade_possible,\n      } as unknown as Meta,\n    };\n    this.code = parsedError.code;\n    this.message = parsedError.message;\n    this.longMessage = parsedError.longMessage;\n    this.meta = parsedError.meta;\n  }\n}\n\n/**\n * Type guard to check if a value is a ClerkAPIError instance.\n */\nexport const isClerkAPIError = createErrorTypeGuard(ClerkAPIError);\n", "import type { ClerkAPIError as ClerkAPIErrorInterface, ClerkAPIErrorJSON } from '../types';\nimport { ClerkAPIError } from './clerkApiError';\n\n/**\n * Parses an array of ClerkAPIErrorJSON objects into an array of ClerkAPIError objects.\n *\n * @internal\n */\nexport function parseErrors(data: ClerkAPIErrorJSON[] = []): ClerkAPIErrorInterface[] {\n  return data.length > 0 ? data.map(e => new ClerkAPIError(e)) : [];\n}\n\n/**\n * Parses a ClerkAPIErrorJSON object into a ClerkAPIError object.\n *\n * @deprecated Use `ClerkAPIError` class instead\n *\n * @internal\n */\nexport function parseError(error: ClerkAPIErrorJSON): ClerkAPIErrorInterface {\n  return new ClerkAPIError(error);\n}\n\n/**\n * Converts a ClerkAPIError object into a ClerkAPIErrorJSON object.\n *\n * @internal\n */\nexport function errorToJSON(error: ClerkAPIError | null): ClerkAPIErrorJSON {\n  return {\n    code: error?.code || '',\n    message: error?.message || '',\n    long_message: error?.longMessage,\n    meta: {\n      param_name: error?.meta?.paramName,\n      session_id: error?.meta?.sessionId,\n      email_addresses: error?.meta?.emailAddresses,\n      identifiers: error?.meta?.identifiers,\n      zxcvbn: error?.meta?.zxcvbn,\n      plan: error?.meta?.plan,\n      is_plan_upgrade_possible: error?.meta?.isPlanUpgradePossible,\n    },\n  };\n}\n", "import { createErrorTypeGuard } from './createErrorTypeGuard';\n\nexport interface ClerkErrorParams {\n  /**\n   * A message that describes the error. This is typically intented to be showed to the developers.\n   * It should not be shown to the user or parsed directly as the message contents are not guaranteed\n   * to be stable - use the `code` property instead.\n   */\n  message: string;\n  /**\n   * A machine-stable code that identifies the error.\n   */\n  code: string;\n  /**\n   * A user-friendly message that describes the error and can be displayed to the user.\n   * This message defaults to English but can be usually translated to the user's language\n   * by matching the `code` property to a localized message.\n   */\n  longMessage?: string;\n  /**\n   * The cause of the error, typically an `Error` instance that was caught and wrapped by the Clerk error handler.\n   */\n  cause?: Error;\n  /**\n   * A URL to the documentation for the error.\n   */\n  docsUrl?: string;\n}\n\n/**\n * A temporary placeholder, this will eventually be replaced with a\n * build-time flag that will actually perform DCE.\n */\nconst __DEV__ = true;\n\nexport class ClerkError extends Error {\n  static kind = 'ClerkError';\n  readonly clerkError = true as const;\n  readonly code: string;\n  readonly longMessage: string | undefined;\n  readonly docsUrl: string | undefined;\n  readonly cause: Error | undefined;\n\n  get name() {\n    return this.constructor.name;\n  }\n\n  constructor(opts: ClerkErrorParams) {\n    super(new.target.formatMessage(new.target.kind, opts.message, opts.code, opts.docsUrl), { cause: opts.cause });\n    Object.setPrototypeOf(this, ClerkError.prototype);\n    this.code = opts.code;\n    this.docsUrl = opts.docsUrl;\n    this.longMessage = opts.longMessage;\n    this.cause = opts.cause;\n  }\n\n  public toString() {\n    return `[${this.name}]\\nMessage:${this.message}`;\n  }\n\n  protected static formatMessage(name: string, msg: string, code: string, docsUrl: string | undefined) {\n    // Keeping the Clerk prefix for backward compatibility\n    // msg = `${name}: ${msg.trim()}\\n\\n(code=\"${code}\")\\n\\n`;\n    // We can remove the Clerk prefix in the next major version\n    const prefix = 'Clerk:';\n    const regex = new RegExp(prefix.replace(' ', '\\\\s*'), 'i');\n    msg = msg.replace(regex, '');\n    msg = `${prefix} ${msg.trim()}\\n\\n(code=\"${code}\")\\n\\n`;\n    if (__DEV__ && docsUrl) {\n      msg += `\\n\\nDocs: ${docsUrl}`;\n    }\n    return msg;\n  }\n}\n\n/**\n * Type guard to check if a value is a ClerkError instance.\n */\nexport function isClerkError(val: unknown): val is ClerkError {\n  const typeguard = createErrorTypeGuard(ClerkError);\n  // Ths is the base error so we're being more defensive about the type guard\n  return typeguard(val) || (!!val && typeof val === 'object' && 'clerkError' in val && val.clerkError === true);\n}\n", "import type { ClerkAPIErrorJSON, ClerkAPIResponseError as ClerkAPIResponseErrorInterface } from '../types';\nimport { ClerkAPIError } from './clerkApiError';\nimport type { ClerkErrorParams } from './clerkError';\nimport { ClerkError } from './clerkError';\nimport { createErrorTypeGuard } from './createErrorTypeGuard';\n\ninterface ClerkAPIResponseOptions extends Omit<ClerkErrorParams, 'message' | 'code'> {\n  data: ClerkAPIErrorJSON[];\n  status: number;\n  clerkTraceId?: string;\n  retryAfter?: number;\n}\n\nexport class ClerkAPIResponseError extends ClerkError implements ClerkAPIResponseErrorInterface {\n  static kind = 'ClerkAPIResponseError';\n  status: number;\n  clerkTraceId?: string;\n  retryAfter?: number;\n  errors: ClerkAPIError[];\n\n  constructor(message: string, options: ClerkAPIResponseOptions) {\n    const { data: errorsJson, status, clerkTraceId, retryAfter } = options;\n    super({ ...options, message, code: 'api_response_error' });\n    Object.setPrototypeOf(this, ClerkAPIResponseError.prototype);\n    this.status = status;\n    this.clerkTraceId = clerkTraceId;\n    this.retryAfter = retryAfter;\n    this.errors = (errorsJson || []).map(e => new ClerkAPIError(e));\n  }\n\n  public toString() {\n    let message = `[${this.name}]\\nMessage:${this.message}\\nStatus:${this.status}\\nSerialized errors: ${this.errors.map(\n      e => JSON.stringify(e),\n    )}`;\n\n    if (this.clerkTraceId) {\n      message += `\\nClerk Trace ID: ${this.clerkTraceId}`;\n    }\n\n    return message;\n  }\n\n  // Override formatMessage to keep it unformatted for backward compatibility\n  protected static override formatMessage(name: string, msg: string, _: string, __: string | undefined) {\n    return msg;\n  }\n}\n\n/**\n * Type guard to check if an error is a ClerkAPIResponseError.\n * Can be called as a standalone function or as a method on an error object.\n *\n * @example\n * // As a standalone function\n * if (isClerkAPIResponseError(error)) { ... }\n *\n * // As a method (when attached to error object)\n * if (error.isClerkAPIResponseError()) { ... }\n */\nexport const isClerkAPIResponseError = createErrorTypeGuard(ClerkAPIResponseError);\n", "import { ClerkAPIResponseError, isClerkAPIResponseError } from './clerkApiResponseError';\n\n/**\n * Error class representing a missing expired token error from the API.\n * This error occurs when the server requires an expired token to mint a new session token.\n *\n * Use the static `is` method to check if a ClerkAPIResponseError matches this error type.\n *\n * @example\n * ```typescript\n * if (MissingExpiredTokenError.is(error)) {\n *   // Handle the missing expired token error\n * }\n * ```\n */\nexport class MissingExpiredTokenError extends ClerkAPIResponseError {\n  static kind = 'MissingExpiredTokenError';\n  static readonly ERROR_CODE = 'missing_expired_token' as const;\n  static readonly STATUS = 422 as const;\n\n  /**\n   * Type guard to check if an error is a MissingExpiredTokenError.\n   * This checks the error's properties (status and error code) rather than instanceof,\n   * allowing it to work with ClerkAPIResponseError instances thrown from the API layer.\n   *\n   * @example\n   * ```typescript\n   * try {\n   *   await someApiCall();\n   * } catch (e) {\n   *   if (MissingExpiredTokenError.is(e)) {\n   *     // e is typed as ClerkAPIResponseError with the specific error properties\n   *   }\n   * }\n   * ```\n   */\n  static is(err: unknown): err is ClerkAPIResponseError {\n    return (\n      isClerkAPIResponseError(err) &&\n      err.status === MissingExpiredTokenError.STATUS &&\n      err.errors.length > 0 &&\n      err.errors[0].code === MissingExpiredTokenError.ERROR_CODE\n    );\n  }\n}\n", "const DefaultMessages = Object.freeze({\n  InvalidProxyUrlErrorMessage: `The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})`,\n  InvalidPublishableKeyErrorMessage: `The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})`,\n  MissingPublishableKeyErrorMessage: `Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,\n  MissingSecretKeyErrorMessage: `Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.`,\n  MissingClerkProvider: `{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider`,\n});\n\ntype MessageKeys = keyof typeof DefaultMessages;\n\ntype Messages = Record<MessageKeys, string>;\n\ntype CustomMessages = Partial<Messages>;\n\nexport type ErrorThrowerOptions = {\n  packageName: string;\n  customMessages?: CustomMessages;\n};\n\nexport interface ErrorThrower {\n  setPackageName(options: ErrorThrowerOptions): ErrorThrower;\n\n  setMessages(options: ErrorThrowerOptions): ErrorThrower;\n\n  throwInvalidPublishableKeyError(params: { key?: string }): never;\n\n  throwInvalidProxyUrl(params: { url?: string }): never;\n\n  throwMissingPublishableKeyError(): never;\n\n  throwMissingSecretKeyError(): never;\n\n  throwMissingClerkProviderError(params: { source?: string }): never;\n\n  throw(message: string): never;\n}\n\n/**\n * Builds an error thrower.\n *\n * @internal\n */\nexport function buildErrorThrower({ packageName, customMessages }: ErrorThrowerOptions): ErrorThrower {\n  let pkg = packageName;\n\n  /**\n   * Builds a message from a raw message and replacements.\n   *\n   * @internal\n   */\n  function buildMessage(rawMessage: string, replacements?: Record<string, string | number>) {\n    if (!replacements) {\n      return `${pkg}: ${rawMessage}`;\n    }\n\n    let msg = rawMessage;\n    const matches = rawMessage.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);\n\n    for (const match of matches) {\n      const replacement = (replacements[match[1]] || '').toString();\n      msg = msg.replace(`{{${match[1]}}}`, replacement);\n    }\n\n    return `${pkg}: ${msg}`;\n  }\n\n  const messages = {\n    ...DefaultMessages,\n    ...customMessages,\n  };\n\n  return {\n    setPackageName({ packageName }: ErrorThrowerOptions): ErrorThrower {\n      if (typeof packageName === 'string') {\n        pkg = packageName;\n      }\n      return this;\n    },\n\n    setMessages({ customMessages }: ErrorThrowerOptions): ErrorThrower {\n      Object.assign(messages, customMessages || {});\n      return this;\n    },\n\n    throwInvalidPublishableKeyError(params: { key?: string }): never {\n      throw new Error(buildMessage(messages.InvalidPublishableKeyErrorMessage, params));\n    },\n\n    throwInvalidProxyUrl(params: { url?: string }): never {\n      throw new Error(buildMessage(messages.InvalidProxyUrlErrorMessage, params));\n    },\n\n    throwMissingPublishableKeyError(): never {\n      throw new Error(buildMessage(messages.MissingPublishableKeyErrorMessage));\n    },\n\n    throwMissingSecretKeyError(): never {\n      throw new Error(buildMessage(messages.MissingSecretKeyErrorMessage));\n    },\n\n    throwMissingClerkProviderError(params: { source?: string }): never {\n      throw new Error(buildMessage(messages.MissingClerkProvider, params));\n    },\n\n    throw(message: string): never {\n      throw new Error(buildMessage(message));\n    },\n  };\n}\n", "export class EmailLinkError extends Error {\n  code: string;\n\n  constructor(code: string) {\n    super(code);\n    this.code = code;\n    this.name = 'EmailLinkError' as const;\n    Object.setPrototypeOf(this, EmailLinkError.prototype);\n  }\n}\n\n/**\n * @deprecated Use `EmailLinkErrorCodeStatus` instead.\n *\n * @internal\n */\nexport const EmailLinkErrorCode = {\n  Expired: 'expired',\n  Failed: 'failed',\n  ClientMismatch: 'client_mismatch',\n};\n\nexport const EmailLinkErrorCodeStatus = {\n  Expired: 'expired',\n  Failed: 'failed',\n  ClientMismatch: 'client_mismatch',\n} as const;\n", "import type { ClerkErrorParams } from './clerkError';\nimport { ClerkError } from './clerkError';\nimport { createErrorTypeGuard } from './createErrorTypeGuard';\n\ntype ClerkRuntimeErrorOptions = Omit<ClerkErrorParams, 'message'>;\n\n/**\n * Custom error class for representing Clerk runtime errors.\n *\n * @class ClerkRuntimeError\n *\n * @example\n *   throw new ClerkRuntimeError('An error occurred', { code: 'password_invalid' });\n */\nexport class ClerkRuntimeError extends ClerkError {\n  static kind = 'ClerkRuntimeError';\n  /**\n   * @deprecated Use `clerkError` property instead. This property is maintained for backward compatibility.\n   */\n  readonly clerkRuntimeError = true as const;\n\n  constructor(message: string, options: ClerkRuntimeErrorOptions) {\n    super({ ...options, message });\n    Object.setPrototypeOf(this, ClerkRuntimeError.prototype);\n  }\n}\n\n/**\n * Type guard to check if an error is a ClerkRuntimeError.\n * Can be called as a standalone function or as a method on an error object.\n *\n * @example\n * // As a standalone function\n * if (isClerkRuntimeError(error)) { ... }\n *\n * // As a method (when attached to error object)\n * if (error.isClerkRuntimeError()) { ... }\n */\nexport const isClerkRuntimeError = createErrorTypeGuard(ClerkRuntimeError);\n", "import { ClerkRuntimeError } from './clerkRuntimeError';\n\ntype ClerkWebAuthnErrorCode =\n  // Generic\n  | 'passkey_not_supported'\n  | 'passkey_pa_not_supported'\n  | 'passkey_invalid_rpID_or_domain'\n  | 'passkey_already_exists'\n  | 'passkey_operation_aborted'\n  // Retrieval\n  | 'passkey_retrieval_cancelled'\n  | 'passkey_retrieval_failed'\n  // Registration\n  | 'passkey_registration_cancelled'\n  | 'passkey_registration_failed';\n\nexport class ClerkWebAuthnError extends ClerkRuntimeError {\n  /**\n   * A unique code identifying the error, can be used for localization.\n   */\n  code: ClerkWebAuthnErrorCode;\n\n  constructor(message: string, { code }: { code: ClerkWebAuthnErrorCode }) {\n    super(message, { code });\n    this.code = code;\n  }\n}\n", "import type { ClerkAPIResponseError } from './clerkApiResponseError';\nimport { isClerkAPIResponseError } from './clerkApiResponseError';\nimport type { ClerkRuntimeError } from './clerkRuntimeError';\nimport { isClerkRuntimeError } from './clerkRuntimeError';\nimport type { EmailLinkError } from './emailLinkError';\nimport type { MetamaskError } from './metamaskError';\n\n/**\n * Checks if the provided error object is an unauthorized error.\n *\n * @internal\n *\n * @deprecated This is no longer used, and will be removed in the next major version.\n */\nexport function isUnauthorizedError(e: any): boolean {\n  const status = e?.status;\n  const code = e?.errors?.[0]?.code;\n  return code === 'authentication_invalid' && status === 401;\n}\n\n/**\n * Checks if the provided error object is a captcha error.\n *\n * @internal\n */\nexport function isCaptchaError(e: ClerkAPIResponseError): boolean {\n  return ['captcha_invalid', 'captcha_not_enabled', 'captcha_missing_token'].includes(e.errors[0].code);\n}\n\n/**\n * Checks if the provided error is a 4xx error.\n *\n * @internal\n */\nexport function is4xxError(e: any): boolean {\n  const status = e?.status;\n  return !!status && status >= 400 && status < 500;\n}\n\n/**\n * Checks if the provided error is a network error.\n *\n * @internal\n */\nexport function isNetworkError(e: any): boolean {\n  // TODO: revise during error handling epic\n  const message = (`${e.message}${e.name}` || '').toLowerCase().replace(/\\s+/g, '');\n  return message.includes('networkerror');\n}\n\n/**\n * Checks if the provided error is either a ClerkAPIResponseError, a ClerkRuntimeError, or a MetamaskError.\n *\n * @internal\n */\nexport function isKnownError(error: any): error is ClerkAPIResponseError | ClerkRuntimeError | MetamaskError {\n  return isClerkAPIResponseError(error) || isMetamaskError(error) || isClerkRuntimeError(error);\n}\n\n/**\n * Checks if the provided error is a Clerk runtime error indicating a reverification was cancelled.\n *\n * @internal\n */\nexport function isReverificationCancelledError(err: any) {\n  return isClerkRuntimeError(err) && err.code === 'reverification_cancelled';\n}\n\n/**\n * Checks if the provided error is a Metamask error.\n *\n * @internal\n */\nexport function isMetamaskError(err: any): err is MetamaskError {\n  return 'code' in err && [4001, 32602, 32603].includes(err.code) && 'message' in err;\n}\n\n/**\n * Checks if the provided error is clerk api response error indicating a user is locked.\n *\n * @internal\n */\nexport function isUserLockedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'user_locked';\n}\n\n/**\n * Checks if the provided error is a clerk api response error indicating a password was pwned.\n *\n * @internal\n */\nexport function isPasswordPwnedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'form_password_pwned';\n}\n\n/**\n * Checks if the provided error is a clerk api response error indicating a password was compromised.\n *\n * @internal\n */\nexport function isPasswordCompromisedError(err: any) {\n  return isClerkAPIResponseError(err) && err.errors?.[0]?.code === 'form_password_compromised';\n}\n\n/**\n * Checks if the provided error is an EmailLinkError.\n *\n * @internal\n */\nexport function isEmailLinkError(err: Error): err is EmailLinkError {\n  return err.name === 'EmailLinkError';\n}\n", "import { isClerkAPIResponseError } from './clerkApiResponseError';\nimport type { ClerkError } from './clerkError';\nimport { isClerkRuntimeError } from './clerkRuntimeError';\n\n/**\n * Creates a ClerkGlobalHookError object from a ClerkError instance.\n * It's a wrapper for all the different instances of Clerk errors that can\n * be returned when using Clerk hooks.\n */\nexport function createClerkGlobalHookError(error: ClerkError) {\n  const predicates = {\n    isClerkAPIResponseError,\n    isClerkRuntimeError,\n  } as const;\n\n  for (const [name, fn] of Object.entries(predicates)) {\n    Object.assign(error, { [name]: fn });\n  }\n\n  return error as ClerkError & typeof predicates;\n}\n\nexport type ClerkGlobalHookError = ReturnType<typeof createClerkGlobalHookError>;\n", "import type { ErrorThrowerOptions } from '@clerk/shared/error';\nimport { buildErrorThrower } from '@clerk/shared/error';\n\nconst errorThrower = buildErrorThrower({ packageName: '@clerk/vue' });\n\nexport { errorThrower };\n\n/**\n * Overrides options of the internal errorThrower (eg setting packageName prefix).\n *\n * @internal\n */\nexport function setErrorThrowerOptions(options: ErrorThrowerOptions) {\n  errorThrower.setMessages(options).setPackageName(options);\n}\n", "import type {\n  ActClaim,\n  CheckAuthorizationWithCustomPermissions,\n  GetToken,\n  JwtPayload,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  PendingSessionOptions,\n  ReverificationConfig,\n  SessionStatusClaim,\n  SessionVerificationLevel,\n  SessionVerificationTypes,\n  SignOut,\n  UseAuthReturn,\n} from './types';\n\ntype TypesToConfig = Record<SessionVerificationTypes, Exclude<ReverificationConfig, SessionVerificationTypes>>;\ntype AuthorizationOptions = {\n  userId: string | null | undefined;\n  orgId: string | null | undefined;\n  orgRole: string | null | undefined;\n  orgPermissions: string[] | null | undefined;\n  factorVerificationAge: [number, number] | null;\n  features: string | null | undefined;\n  plans: string | null | undefined;\n};\n\ntype CheckOrgAuthorization = (\n  params: { role?: OrganizationCustomRoleKey; permission?: OrganizationCustomPermissionKey },\n  options: Pick<AuthorizationOptions, 'orgId' | 'orgRole' | 'orgPermissions'>,\n) => boolean | null;\n\ntype CheckBillingAuthorization = (\n  params: { feature?: string; plan?: string },\n  options: Pick<AuthorizationOptions, 'plans' | 'features'>,\n) => boolean | null;\n\ntype CheckReverificationAuthorization = (\n  params: {\n    reverification?: ReverificationConfig;\n  },\n  { factorVerificationAge }: AuthorizationOptions,\n) => boolean | null;\n\nconst TYPES_TO_OBJECTS: TypesToConfig = {\n  strict_mfa: {\n    afterMinutes: 10,\n    level: 'multi_factor',\n  },\n  strict: {\n    afterMinutes: 10,\n    level: 'second_factor',\n  },\n  moderate: {\n    afterMinutes: 60,\n    level: 'second_factor',\n  },\n  lax: {\n    afterMinutes: 1_440,\n    level: 'second_factor',\n  },\n};\n\nconst ALLOWED_LEVELS = new Set<SessionVerificationLevel>(['first_factor', 'second_factor', 'multi_factor']);\n\nconst ALLOWED_TYPES = new Set<SessionVerificationTypes>(['strict_mfa', 'strict', 'moderate', 'lax']);\n\n// Helper functions\nconst isValidMaxAge = (maxAge: any) => typeof maxAge === 'number' && maxAge > 0;\nconst isValidLevel = (level: any) => ALLOWED_LEVELS.has(level);\nconst isValidVerificationType = (type: any) => ALLOWED_TYPES.has(type);\n\nconst prefixWithOrg = (value: string) => value.replace(/^(org:)*/, 'org:');\n\n/**\n * Checks if a user has the required Organization-level authorization.\n * Verifies if the user has the specified Role or Permission within their Organization.\n * @returns null, if unable to determine due to missing data or unspecified Role/Permission.\n */\nconst checkOrgAuthorization: CheckOrgAuthorization = (params, options) => {\n  const { orgId, orgRole, orgPermissions } = options;\n  if (!params.role && !params.permission) {\n    return null;\n  }\n\n  if (!orgId || !orgRole || !orgPermissions) {\n    return null;\n  }\n\n  if (params.permission) {\n    return orgPermissions.includes(prefixWithOrg(params.permission));\n  }\n\n  if (params.role) {\n    return prefixWithOrg(orgRole) === prefixWithOrg(params.role);\n  }\n  return null;\n};\n\nconst checkForFeatureOrPlan = (claim: string, featureOrPlan: string) => {\n  const { org: orgFeatures, user: userFeatures } = splitByScope(claim);\n  const [scope, _id] = featureOrPlan.split(':');\n  const id = _id || scope;\n\n  if (scope === 'org') {\n    return orgFeatures.includes(id);\n  } else if (scope === 'user') {\n    return userFeatures.includes(id);\n  } else {\n    // Since org scoped features will not exist if there is not an active org, merging is safe.\n    return [...orgFeatures, ...userFeatures].includes(id);\n  }\n};\n\nconst checkBillingAuthorization: CheckBillingAuthorization = (params, options) => {\n  const { features, plans } = options;\n\n  if (params.feature && features) {\n    return checkForFeatureOrPlan(features, params.feature);\n  }\n\n  if (params.plan && plans) {\n    return checkForFeatureOrPlan(plans, params.plan);\n  }\n  return null;\n};\n\nconst splitByScope = (fea: string | null | undefined) => {\n  const features = fea ? fea.split(',').map(f => f.trim()) : [];\n\n  // TODO: make this more efficient\n  return {\n    org: features.filter(f => f.split(':')[0].includes('o')).map(f => f.split(':')[1]),\n    user: features.filter(f => f.split(':')[0].includes('u')).map(f => f.split(':')[1]),\n  };\n};\n\nconst validateReverificationConfig = (config: ReverificationConfig | undefined | null) => {\n  if (!config) {\n    return false;\n  }\n\n  const convertConfigToObject = (config: ReverificationConfig) => {\n    if (typeof config === 'string') {\n      return TYPES_TO_OBJECTS[config];\n    }\n    return config;\n  };\n\n  const isValidStringValue = typeof config === 'string' && isValidVerificationType(config);\n  const isValidObjectValue =\n    typeof config === 'object' && isValidLevel(config.level) && isValidMaxAge(config.afterMinutes);\n\n  if (isValidStringValue || isValidObjectValue) {\n    return convertConfigToObject.bind(null, config);\n  }\n\n  return false;\n};\n\n/**\n * Evaluates if the user meets re-verification authentication requirements.\n * Compares the user's factor verification ages against the specified maxAge.\n * Handles different verification levels (first factor, second factor, multi-factor).\n * @returns null, if requirements or verification data are missing.\n */\nconst checkReverificationAuthorization: CheckReverificationAuthorization = (params, { factorVerificationAge }) => {\n  if (!params.reverification || !factorVerificationAge) {\n    return null;\n  }\n\n  const isValidReverification = validateReverificationConfig(params.reverification);\n  if (!isValidReverification) {\n    return null;\n  }\n\n  const { level, afterMinutes } = isValidReverification();\n  const [factor1Age, factor2Age] = factorVerificationAge;\n\n  // -1 indicates the factor group (1fa,2fa) is not enabled\n  // -1 for 1fa is not a valid scenario, but we need to make sure we handle it properly\n  const isValidFactor1 = factor1Age !== -1 ? afterMinutes > factor1Age : null;\n  const isValidFactor2 = factor2Age !== -1 ? afterMinutes > factor2Age : null;\n\n  switch (level) {\n    case 'first_factor':\n      return isValidFactor1;\n    case 'second_factor':\n      return factor2Age !== -1 ? isValidFactor2 : isValidFactor1;\n    case 'multi_factor':\n      return factor2Age === -1 ? isValidFactor1 : isValidFactor1 && isValidFactor2;\n  }\n};\n\n/**\n * Creates a function for comprehensive user authorization checks.\n * Combines organization-level and reverification authentication checks.\n * The returned function authorizes if both checks pass, or if at least one passes\n * when the other is indeterminate. Fails if userId is missing.\n */\nconst createCheckAuthorization = (options: AuthorizationOptions): CheckAuthorizationWithCustomPermissions => {\n  return (params): boolean => {\n    if (!options.userId) {\n      return false;\n    }\n\n    const billingAuthorization = checkBillingAuthorization(params, options);\n    const orgAuthorization = checkOrgAuthorization(params, options);\n    const reverificationAuthorization = checkReverificationAuthorization(params, options);\n\n    if ([billingAuthorization || orgAuthorization, reverificationAuthorization].some(a => a === null)) {\n      return [billingAuthorization || orgAuthorization, reverificationAuthorization].some(a => a === true);\n    }\n\n    return [billingAuthorization || orgAuthorization, reverificationAuthorization].every(a => a === true);\n  };\n};\n\ntype AuthStateOptions = {\n  authObject: {\n    userId?: string | null;\n    sessionId?: string | null;\n    sessionStatus?: SessionStatusClaim | null;\n    sessionClaims?: JwtPayload | null;\n    actor?: ActClaim | null;\n    orgId?: string | null;\n    orgRole?: OrganizationCustomRoleKey | null;\n    orgSlug?: string | null;\n    orgPermissions?: OrganizationCustomPermissionKey[] | null;\n    getToken: GetToken;\n    signOut: SignOut;\n    has: (params: Parameters<CheckAuthorizationWithCustomPermissions>[0]) => boolean;\n  };\n  options: PendingSessionOptions;\n};\n\n/**\n * Shared utility function that centralizes auth state resolution logic,\n * preventing duplication across different packages.\n * @internal\n */\nconst resolveAuthState = ({\n  authObject: {\n    sessionId,\n    sessionStatus,\n    userId,\n    actor,\n    orgId,\n    orgRole,\n    orgSlug,\n    signOut,\n    getToken,\n    has,\n    sessionClaims,\n  },\n  options: { treatPendingAsSignedOut = true },\n}: AuthStateOptions): UseAuthReturn | undefined => {\n  if (sessionId === undefined && userId === undefined) {\n    return {\n      isLoaded: false,\n      isSignedIn: undefined,\n      sessionId,\n      sessionClaims: undefined,\n      userId,\n      actor: undefined,\n      orgId: undefined,\n      orgRole: undefined,\n      orgSlug: undefined,\n      has: undefined,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (sessionId === null && userId === null) {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId,\n      userId,\n      sessionClaims: null,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (treatPendingAsSignedOut && sessionStatus === 'pending') {\n    return {\n      isLoaded: true,\n      isSignedIn: false,\n      sessionId: null,\n      userId: null,\n      sessionClaims: null,\n      actor: null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has: () => false,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (!!sessionId && !!sessionClaims && !!userId && !!orgId && !!orgRole) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      sessionClaims,\n      userId,\n      actor: actor || null,\n      orgId,\n      orgRole,\n      orgSlug: orgSlug || null,\n      has,\n      signOut,\n      getToken,\n    } as const;\n  }\n\n  if (!!sessionId && !!sessionClaims && !!userId && !orgId) {\n    return {\n      isLoaded: true,\n      isSignedIn: true,\n      sessionId,\n      sessionClaims,\n      userId,\n      actor: actor || null,\n      orgId: null,\n      orgRole: null,\n      orgSlug: null,\n      has,\n      signOut,\n      getToken,\n    } as const;\n  }\n};\n\nexport { createCheckAuthorization, resolveAuthState, splitByScope, validateReverificationConfig };\n", "import { inject } from 'vue';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { ClerkInjectionKey } from '../keys';\n\nexport function useClerkContext(source: string) {\n  const ctx = inject(ClerkInjectionKey);\n\n  if (!ctx) {\n    return errorThrower.throw(\n      `${source} can only be used when the Vue plugin is installed. Learn more: https://clerk.com/docs/reference/vue/clerk-plugin`,\n    );\n  }\n\n  return ctx;\n}\n", "import type { InjectionKey } from 'vue';\n\nimport type { AddCustomMenuItemParams, AddCustomPagesParams, VueClerkInjectionKeyType } from './types';\n\nexport const ClerkInjectionKey = Symbol('clerk') as InjectionKey<VueClerkInjectionKeyType>;\n\nexport const UserButtonInjectionKey = Symbol('UserButton') as InjectionKey<{\n  addCustomMenuItem(params: AddCustomMenuItemParams): void;\n}>;\n\nexport const UserButtonMenuItemsInjectionKey = Symbol('UserButton.MenuItems') as InjectionKey<{\n  addCustomMenuItem(params: AddCustomMenuItemParams): void;\n}>;\n\nexport const UserProfileInjectionKey = Symbol('UserProfile') as InjectionKey<{\n  addCustomPage(params: AddCustomPagesParams): void;\n}>;\n\nexport const OrganizationProfileInjectionKey = Symbol('OrganizationProfile') as InjectionKey<{\n  addCustomPage(params: AddCustomPagesParams): void;\n}>;\n", "import { useClerkContext } from './useClerkContext';\n\n/**\n * Returns the [`Clerk`](https://clerk.com/docs/reference/javascript/clerk/clerk) instance which provides\n * low-level access to Clerk's functionality, enabling custom authentication UI and flows.\n *\n * @example\n * <script setup>\n * import { useClerk } from '@clerk/vue'\n *\n * const clerk = useClerk()\n *\n * const openSignIn = () => clerk.value.openSignIn()\n * </script>\n *\n * <template>\n *   <button @click=\"openSignIn\">Sign in</button>\n * </template>\n */\nexport const useClerk = () => {\n  const { clerk } = useClerkContext('useClerk');\n\n  return clerk;\n};\n", "import { createCheckAuthorization, resolveAuthState } from '@clerk/shared/authorization';\nimport type { Clerk, GetToken, JwtPayload, PendingSessionOptions, SignOut, UseAuthReturn } from '@clerk/shared/types';\nimport { computed, type ShallowRef, watch } from 'vue';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { invalidStateError } from '../errors/messages';\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\n/**\n * @internal\n */\nfunction clerkLoaded(clerk: ShallowRef<Clerk | null>) {\n  return new Promise<Clerk>(resolve => {\n    let unwatch: (() => void) | undefined;\n    // eslint-disable-next-line prefer-const\n    unwatch = watch(\n      clerk,\n      value => {\n        if (value?.loaded) {\n          resolve(value);\n          unwatch?.();\n        }\n      },\n      { immediate: true },\n    );\n  });\n}\n\n/**\n * @internal\n */\nfunction createGetToken(clerk: ShallowRef<Clerk | null>) {\n  return async (options: any) => {\n    const loadedClerk = await clerkLoaded(clerk);\n    if (!loadedClerk.session) {\n      return null;\n    }\n\n    return loadedClerk.session.getToken(options);\n  };\n}\n\n/**\n * @internal\n */\nfunction createSignOut(clerk: ShallowRef<Clerk | null>) {\n  return async (...args: any) => {\n    const loadedClerk = await clerkLoaded(clerk);\n    return loadedClerk.signOut(...args);\n  };\n}\n\ntype UseAuth = (options?: PendingSessionOptions) => ToComputedRefs<UseAuthReturn>;\n\n/**\n * Returns the current auth state, the user and session ids and the `getToken`\n * that can be used to retrieve the given template or the default Clerk token.\n *\n * Until Clerk loads, `isLoaded` will be set to `false`.\n * Once Clerk loads, `isLoaded` will be set to `true`, and you can\n * safely access the `userId` and `sessionId` variables.\n *\n * @example\n * <script setup>\n * import { useAuth } from '@clerk/vue'\n *\n * const { isSignedIn, sessionId, userId } = useAuth()\n * </script>\n *\n * <template>\n *   <div v-if=\"isSignedIn\">\n *     <!-- {{ sessionId }} {{ userId }} -->\n *     ...\n *   </div>\n * </template>\n */\nexport const useAuth: UseAuth = (options = {}) => {\n  const { clerk, authCtx } = useClerkContext('useAuth');\n\n  const getToken: GetToken = createGetToken(clerk);\n  const signOut: SignOut = createSignOut(clerk);\n\n  const result = computed<UseAuthReturn>(() => {\n    const { userId, orgId, orgRole, orgPermissions, sessionClaims, factorVerificationAge } = authCtx.value;\n\n    const has = createCheckAuthorization({\n      userId,\n      orgId,\n      orgRole,\n      orgPermissions,\n      factorVerificationAge,\n      features: ((sessionClaims as JwtPayload | undefined)?.fea as string) || '',\n      plans: ((sessionClaims as JwtPayload | undefined)?.pla as string) || '',\n    });\n\n    const payload = resolveAuthState({\n      authObject: {\n        ...authCtx.value,\n        getToken,\n        signOut,\n        has,\n      },\n      options: {\n        treatPendingAsSignedOut: options.treatPendingAsSignedOut,\n      },\n    });\n\n    if (!payload) {\n      return errorThrower.throw(invalidStateError);\n    }\n\n    return payload;\n  });\n\n  return toComputedRefs(result);\n};\n", "export const multipleChildrenInButtonComponent = (name: string) =>\n  `You've passed multiple children components to <${name}/>. You can only pass a single child component or text.`;\n\nexport const invalidStateError =\n  'Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support';\n\nexport const useAuthHasRequiresRoleOrPermission =\n  'Missing parameters. `has` from `useAuth` requires a permission or role key to be passed. Example usage: `has({permission: \"org:posts:edit\"})`';\n\nexport const userButtonMenuActionRenderedError =\n  '<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.';\n\nexport const userButtonMenuLinkRenderedError =\n  '<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.';\n\nexport const userButtonMenuItemLinkWrongProps =\n  'Missing requirements. <UserButton.Link /> component requires props: href, label and slots: labelIcon.';\n\nexport const userButtonMenuItemActionWrongProps =\n  'Missing requirements. <UserButton.Action /> component requires props: label and slots: labelIcon.';\n\nexport const userButtonMenuItemsRenderedError =\n  '<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.';\n\nexport const customPageWrongProps = (componentName: string) =>\n  `Missing requirements. <${componentName}.Page /> component requires props: url, label and slots: labelIcon and a default slot for page content`;\n\nexport const customLinkWrongProps = (componentName: string) =>\n  `Missing requirements. <${componentName}.Link /> component requires the following props: url, label and slots: labelIcon.`;\n\nexport const userProfilePageRenderedError =\n  '<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.';\nexport const userProfileLinkRenderedError =\n  '<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.';\n\nexport const organizationProfilePageRenderedError =\n  '<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.';\nexport const organizationProfileLinkRenderedError =\n  '<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.';\n", "import { h, Text, type VNode } from 'vue';\n\nimport { errorThrower } from '../errors/errorThrower';\nimport { multipleChildrenInButtonComponent } from '../errors/messages';\n\ntype ButtonName =\n  | 'SignInButton'\n  | 'SignUpButton'\n  | 'SignOutButton'\n  | 'SignInWithMetamaskButton'\n  | 'SubscriptionDetailsButton'\n  | 'CheckoutButton'\n  | 'PlanDetailsButton';\n\nexport const normalizeWithDefaultValue = (slotContent: VNode[] | undefined, defaultValue: string) => {\n  // Render a button with the default value if no slot content is provided\n  if (!slotContent) {\n    return h('button', defaultValue);\n  }\n\n  // Render a button with the slot content if it's a text node\n  if (slotContent[0].type === Text) {\n    return h('button', slotContent);\n  }\n\n  // Render the slot content as is\n  return slotContent;\n};\n\nexport const assertSingleChild = (slotContent: VNode | VNode[], name: ButtonName) => {\n  if (Array.isArray(slotContent)) {\n    if (slotContent.length > 1) {\n      return errorThrower.throw(multipleChildrenInButtonComponent(name));\n    }\n    return slotContent[0];\n  }\n\n  return slotContent;\n};\n", "import { computed, type ComputedRef } from 'vue';\n\nexport type ToComputedRefs<T = any> = {\n  [K in keyof T]: ComputedRef<T[K]>;\n};\n\n/**\n * Converts a computed ref to an object of computed refs.\n * This will allow the composables to be destructurable and still maintain reactivity.\n */\nexport function toComputedRefs<T extends object>(objectRef: ComputedRef<T>): ToComputedRefs<T> {\n  const result = {} as any;\n\n  for (const key in objectRef.value) {\n    result[key] = computed(() => objectRef.value[key]);\n  }\n\n  return result;\n}\n", "\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n", "export const LEGACY_DEV_INSTANCE_SUFFIXES = ['.lcl.dev', '.lclstage.dev', '.lclclerk.com'];\nexport const CURRENT_DEV_INSTANCE_SUFFIXES = ['.accounts.dev', '.accountsstage.dev', '.accounts.lclclerk.com'];\nexport const DEV_OR_STAGING_SUFFIXES = [\n  '.lcl.dev',\n  '.stg.dev',\n  '.lclstage.dev',\n  '.stgstage.dev',\n  '.dev.lclclerk.com',\n  '.stg.lclclerk.com',\n  '.accounts.lclclerk.com',\n  'accountsstage.dev',\n  'accounts.dev',\n];\nexport const LOCAL_ENV_SUFFIXES = ['.lcl.dev', 'lclstage.dev', '.lclclerk.com', '.accounts.lclclerk.com'];\nexport const STAGING_ENV_SUFFIXES = ['.accountsstage.dev'];\nexport const LOCAL_API_URL = 'https://api.lclclerk.com';\nexport const STAGING_API_URL = 'https://api.clerkstage.dev';\nexport const PROD_API_URL = 'https://api.clerk.com';\n\n/**\n * Returns the URL for a static image\n * using the new img.clerk.com service\n */\nexport function iconImageUrl(id: string, format: 'svg' | 'jpeg' = 'svg'): string {\n  return `https://img.clerk.com/static/${id}.${format}`;\n}\n", "/**\n * A function that decodes a string of data which has been encoded using base-64 encoding.\n * Uses `atob` if available, otherwise uses `Buffer` from `global`. If neither are available, returns the data as-is.\n */\nexport const isomorphicAtob = (data: string) => {\n  if (typeof atob !== 'undefined' && typeof atob === 'function') {\n    return atob(data);\n  } else if (typeof global !== 'undefined' && global.Buffer) {\n    return new global.Buffer(data, 'base64').toString();\n  }\n  return data;\n};\n", "import { DEV_OR_STAGING_SUFFIXES, LEGACY_DEV_INSTANCE_SUFFIXES } from './constants';\nimport { isomorphicAtob } from './isomorphicAtob';\nimport { isomorphicBtoa } from './isomorphicBtoa';\nimport type { PublishableKey } from './types';\n\n/**\n * Configuration options for parsing publishable keys.\n */\ntype ParsePublishableKeyOptions = {\n  /** Whether to throw an error if parsing fails */\n  fatal?: boolean;\n  /** Custom domain to use for satellite instances */\n  domain?: string;\n  /** Proxy URL to use instead of the decoded frontend API */\n  proxyUrl?: string;\n  /** Whether this is a satellite instance */\n  isSatellite?: boolean;\n};\n\n/** Prefix used for production publishable keys */\nconst PUBLISHABLE_KEY_LIVE_PREFIX = 'pk_live_';\n\n/** Prefix used for development publishable keys */\nconst PUBLISHABLE_KEY_TEST_PREFIX = 'pk_test_';\n\n/**\n * Regular expression that matches development frontend API keys.\n * Matches patterns like: foo-bar-13.clerk.accounts.dev.\n */\nconst PUBLISHABLE_FRONTEND_API_DEV_REGEX = /^(([a-z]+)-){2}([0-9]{1,2})\\.clerk\\.accounts([a-z.]*)(dev|com)$/i;\n\n/**\n * Converts a frontend API URL into a base64-encoded publishable key.\n *\n * @param frontendApi - The frontend API URL (e.g., 'clerk.example.com').\n * @returns A base64-encoded publishable key with appropriate prefix (pk_live_ or pk_test_).\n */\nexport function buildPublishableKey(frontendApi: string): string {\n  const isDevKey =\n    PUBLISHABLE_FRONTEND_API_DEV_REGEX.test(frontendApi) ||\n    (frontendApi.startsWith('clerk.') && LEGACY_DEV_INSTANCE_SUFFIXES.some(s => frontendApi.endsWith(s)));\n  const keyPrefix = isDevKey ? PUBLISHABLE_KEY_TEST_PREFIX : PUBLISHABLE_KEY_LIVE_PREFIX;\n  return `${keyPrefix}${isomorphicBtoa(`${frontendApi}$`)}`;\n}\n\n/**\n * Validates that a decoded publishable key has the correct format.\n * The decoded value should be a frontend API followed by exactly one '$' at the end.\n *\n * @param decoded - The decoded publishable key string to validate.\n * @returns `true` if the decoded key has valid format, `false` otherwise.\n */\nfunction isValidDecodedPublishableKey(decoded: string): boolean {\n  if (!decoded.endsWith('$')) {\n    return false;\n  }\n\n  const withoutTrailing = decoded.slice(0, -1);\n  if (withoutTrailing.includes('$')) {\n    return false;\n  }\n\n  return withoutTrailing.includes('.');\n}\n\nexport function parsePublishableKey(\n  key: string | undefined,\n  options: ParsePublishableKeyOptions & { fatal: true },\n): PublishableKey;\nexport function parsePublishableKey(\n  key: string | undefined,\n  options?: ParsePublishableKeyOptions,\n): PublishableKey | null;\n/**\n * Parses and validates a publishable key, extracting the frontend API and instance type.\n *\n * @param key - The publishable key to parse.\n * @param options - Configuration options for parsing.\n * @param options.fatal\n * @param options.domain\n * @param options.proxyUrl\n * @param options.isSatellite\n * @returns Parsed publishable key object with instanceType and frontendApi, or null if invalid.\n *\n * @throws {Error} When options.fatal is true and key is missing or invalid.\n */\nexport function parsePublishableKey(\n  key: string | undefined,\n  options: { fatal?: boolean; domain?: string; proxyUrl?: string; isSatellite?: boolean } = {},\n): PublishableKey | null {\n  key = key || '';\n\n  if (!key || !isPublishableKey(key)) {\n    if (options.fatal && !key) {\n      throw new Error(\n        'Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys',\n      );\n    }\n    if (options.fatal && !isPublishableKey(key)) {\n      throw new Error('Publishable key not valid.');\n    }\n    return null;\n  }\n\n  const instanceType = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) ? 'production' : 'development';\n\n  let decodedFrontendApi: string;\n  try {\n    decodedFrontendApi = isomorphicAtob(key.split('_')[2]);\n  } catch {\n    if (options.fatal) {\n      throw new Error('Publishable key not valid: Failed to decode key.');\n    }\n    return null;\n  }\n\n  if (!isValidDecodedPublishableKey(decodedFrontendApi)) {\n    if (options.fatal) {\n      throw new Error('Publishable key not valid: Decoded key has invalid format.');\n    }\n    return null;\n  }\n\n  let frontendApi = decodedFrontendApi.slice(0, -1);\n\n  if (options.proxyUrl) {\n    frontendApi = options.proxyUrl;\n  } else if (instanceType !== 'development' && options.domain && options.isSatellite) {\n    frontendApi = `clerk.${options.domain}`;\n  }\n\n  return {\n    instanceType,\n    frontendApi,\n  };\n}\n\n/**\n * Checks if the provided key is a valid publishable key.\n *\n * @param key - The key to be checked. Defaults to an empty string if not provided.\n * @returns `true` if 'key' is a valid publishable key, `false` otherwise.\n */\nexport function isPublishableKey(key: string = '') {\n  try {\n    const hasValidPrefix = key.startsWith(PUBLISHABLE_KEY_LIVE_PREFIX) || key.startsWith(PUBLISHABLE_KEY_TEST_PREFIX);\n\n    if (!hasValidPrefix) {\n      return false;\n    }\n\n    const parts = key.split('_');\n    if (parts.length !== 3) {\n      return false;\n    }\n\n    const encodedPart = parts[2];\n    if (!encodedPart) {\n      return false;\n    }\n\n    const decoded = isomorphicAtob(encodedPart);\n    return isValidDecodedPublishableKey(decoded);\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Creates a memoized cache for checking if URLs are development or staging environments.\n * Uses a Map to cache results for better performance on repeated checks.\n *\n * @returns An object with an isDevOrStagingUrl method that checks if a URL is dev/staging.\n */\nexport function createDevOrStagingUrlCache() {\n  const devOrStagingUrlCache = new Map<string, boolean>();\n\n  return {\n    /**\n     * Checks if a URL is a development or staging environment.\n     *\n     * @param url - The URL to check (string or URL object).\n     * @returns `true` if the URL is a development or staging environment, `false` otherwise.\n     */\n    isDevOrStagingUrl: (url: string | URL): boolean => {\n      if (!url) {\n        return false;\n      }\n\n      const hostname = typeof url === 'string' ? url : url.hostname;\n      let res = devOrStagingUrlCache.get(hostname);\n      if (res === undefined) {\n        res = DEV_OR_STAGING_SUFFIXES.some(s => hostname.endsWith(s));\n        devOrStagingUrlCache.set(hostname, res);\n      }\n      return res;\n    },\n  };\n}\n\n/**\n * Checks if a publishable key is for a development environment.\n * Supports both legacy format (test_) and new format (pk_test_).\n *\n * @param apiKey - The API key to check.\n * @returns `true` if the key is for development, `false` otherwise.\n */\nexport function isDevelopmentFromPublishableKey(apiKey: string): boolean {\n  return apiKey.startsWith('test_') || apiKey.startsWith('pk_test_');\n}\n\n/**\n * Checks if a publishable key is for a production environment.\n * Supports both legacy format (live_) and new format (pk_live_).\n *\n * @param apiKey - The API key to check.\n * @returns `true` if the key is for production, `false` otherwise.\n */\nexport function isProductionFromPublishableKey(apiKey: string): boolean {\n  return apiKey.startsWith('live_') || apiKey.startsWith('pk_live_');\n}\n\n/**\n * Checks if a secret key is for a development environment.\n * Supports both legacy format (test_) and new format (sk_test_).\n *\n * @param apiKey - The secret key to check.\n * @returns `true` if the key is for development, `false` otherwise.\n */\nexport function isDevelopmentFromSecretKey(apiKey: string): boolean {\n  return apiKey.startsWith('test_') || apiKey.startsWith('sk_test_');\n}\n\n/**\n * Checks if a secret key is for a production environment.\n * Supports both legacy format (live_) and new format (sk_live_).\n *\n * @param apiKey - The secret key to check.\n * @returns `true` if the key is for production, `false` otherwise.\n */\nexport function isProductionFromSecretKey(apiKey: string): boolean {\n  return apiKey.startsWith('live_') || apiKey.startsWith('sk_live_');\n}\n\n/**\n * Generates a unique cookie suffix based on the publishable key using SHA-1 hashing.\n * The suffix is base64-encoded and URL-safe (+ and / characters are replaced).\n *\n * @param publishableKey - The publishable key to generate suffix from.\n * @param subtle - The SubtleCrypto interface to use for hashing (defaults to globalThis.crypto.subtle).\n * @returns A promise that resolves to an 8-character URL-safe base64 string.\n */\nexport async function getCookieSuffix(\n  publishableKey: string,\n  subtle: SubtleCrypto = globalThis.crypto.subtle,\n): Promise<string> {\n  const data = new TextEncoder().encode(publishableKey);\n  const digest = await subtle.digest('sha-1', data);\n  const stringDigest = String.fromCharCode(...new Uint8Array(digest));\n  // Base 64 Encoding with URL and Filename Safe Alphabet: https://datatracker.ietf.org/doc/html/rfc4648#section-5\n  return isomorphicBtoa(stringDigest).replace(/\\+/gi, '-').replace(/\\//gi, '_').substring(0, 8);\n}\n\n/**\n * Creates a suffixed cookie name by appending the cookie suffix to the base name.\n * Used to create unique cookie names based on the publishable key.\n *\n * @param cookieName - The base cookie name.\n * @param cookieSuffix - The suffix to append (typically generated by getCookieSuffix).\n * @returns The suffixed cookie name in format: `${cookieName}_${cookieSuffix}`.\n */\nexport const getSuffixedCookieName = (cookieName: string, cookieSuffix: string): string => {\n  return `${cookieName}_${cookieSuffix}`;\n};\n", "type Milliseconds = number;\n\ntype RetryOptions = Partial<{\n  /**\n   * The initial delay before the first retry.\n   *\n   * @default 125\n   */\n  initialDelay: Milliseconds;\n  /**\n   * The maximum delay between retries.\n   * The delay between retries will never exceed this value.\n   * If set to 0, the delay will increase indefinitely.\n   *\n   * @default 0\n   */\n  maxDelayBetweenRetries: Milliseconds;\n  /**\n   * The multiplier for the exponential backoff.\n   *\n   * @default 2\n   */\n  factor: number;\n  /**\n   * A function to determine if the operation should be retried.\n   * The callback accepts the error that was thrown and the number of iterations.\n   * The iterations variable references the number of retries AFTER attempt\n   * that caused the error and starts at 1 (as in, this is the 1st, 2nd, nth retry).\n   *\n   * @default (error, iterations) => iterations < 5\n   */\n  shouldRetry: (error: unknown, iterations: number) => boolean;\n  /**\n   * Controls whether the helper should retry the operation immediately once before applying exponential backoff.\n   * The delay for the immediate retry is 100ms.\n   *\n   * @default false\n   */\n  retryImmediately: boolean;\n  /**\n   * If true, the intervals will be multiplied by a factor in the range of [1,2].\n   *\n   * @default true\n   */\n  jitter: boolean;\n\n  /**\n   * A callback that is invoked before each retry attempt.\n   * The callback receives the iteration number (starting from 1 for the first retry).\n   * This can be used to modify request parameters, add headers, etc.\n   */\n  onBeforeRetry?: (iteration: number) => void | Promise<void>;\n}>;\n\nconst defaultOptions = {\n  initialDelay: 125,\n  maxDelayBetweenRetries: 0,\n  factor: 2,\n  shouldRetry: (_: unknown, iteration: number) => iteration < 5,\n  retryImmediately: false,\n  jitter: true,\n};\n\nconst RETRY_IMMEDIATELY_DELAY = 100;\n\nconst sleep = async (ms: Milliseconds) => new Promise(s => setTimeout(s, ms));\n\nconst applyJitter = (delay: Milliseconds, jitter: boolean) => {\n  return jitter ? delay * (1 + Math.random()) : delay;\n};\n\nconst createExponentialDelayAsyncFn = (\n  opts: Required<Pick<RetryOptions, 'initialDelay' | 'maxDelayBetweenRetries' | 'factor' | 'jitter'>>,\n) => {\n  let timesCalled = 0;\n\n  const calculateDelayInMs = () => {\n    const constant = opts.initialDelay;\n    const base = opts.factor;\n    let delay = constant * Math.pow(base, timesCalled);\n    delay = applyJitter(delay, opts.jitter);\n    return Math.min(opts.maxDelayBetweenRetries || delay, delay);\n  };\n\n  return async (): Promise<void> => {\n    await sleep(calculateDelayInMs());\n    timesCalled++;\n  };\n};\n\n/**\n * Retries a callback until it succeeds or the shouldRetry function returns false.\n * See {@link RetryOptions} for the available options.\n */\nexport const retry = async <T>(callback: () => T | Promise<T>, options: RetryOptions = {}): Promise<T> => {\n  let iterations = 0;\n  const { shouldRetry, initialDelay, maxDelayBetweenRetries, factor, retryImmediately, jitter, onBeforeRetry } = {\n    ...defaultOptions,\n    ...options,\n  };\n\n  const delay = createExponentialDelayAsyncFn({\n    initialDelay,\n    maxDelayBetweenRetries,\n    factor,\n    jitter,\n  });\n\n  while (true) {\n    try {\n      return await callback();\n    } catch (e) {\n      iterations++;\n      if (!shouldRetry(e, iterations)) {\n        throw e;\n      }\n\n      if (onBeforeRetry) {\n        await onBeforeRetry(iterations);\n      }\n\n      if (retryImmediately && iterations === 1) {\n        await sleep(applyJitter(RETRY_IMMEDIATELY_DELAY, jitter));\n      } else {\n        await delay();\n      }\n    }\n  }\n};\n", "import { retry } from './retry';\n\nconst NO_DOCUMENT_ERROR = 'loadScript cannot be called when document does not exist';\nconst NO_SRC_ERROR = 'loadScript cannot be called without a src';\n\ntype LoadScriptOptions = {\n  async?: boolean;\n  defer?: boolean;\n  crossOrigin?: 'anonymous' | 'use-credentials';\n  nonce?: string;\n  beforeLoad?: (script: HTMLScriptElement) => void;\n};\n\nexport async function loadScript(src = '', opts: LoadScriptOptions): Promise<HTMLScriptElement> {\n  const { async, defer, beforeLoad, crossOrigin, nonce } = opts || {};\n\n  const load = () => {\n    return new Promise<HTMLScriptElement>((resolve, reject) => {\n      if (!src) {\n        reject(new Error(NO_SRC_ERROR));\n      }\n\n      if (!document || !document.body) {\n        reject(new Error(NO_DOCUMENT_ERROR));\n      }\n\n      const script = document.createElement('script');\n\n      if (crossOrigin) {\n        script.setAttribute('crossorigin', crossOrigin);\n      }\n      script.async = async || false;\n      script.defer = defer || false;\n\n      script.addEventListener('load', () => {\n        script.remove();\n        resolve(script);\n      });\n\n      script.addEventListener('error', event => {\n        script.remove();\n        reject(event.error ?? new Error(`failed to load script: ${src}`));\n      });\n\n      script.src = src;\n      script.nonce = nonce;\n      beforeLoad?.(script);\n      document.body.appendChild(script);\n    });\n  };\n\n  return retry(load, { shouldRetry: (_, iterations) => iterations <= 5 });\n}\n", "export function isValidProxyUrl(key: string | undefined) {\n  if (!key) {\n    return true;\n  }\n\n  return isHttpOrHttps(key) || isProxyUrlRelative(key);\n}\n\nexport function isHttpOrHttps(key: string | undefined) {\n  return /^http(s)?:\\/\\//.test(key || '');\n}\n\nexport function isProxyUrlRelative(key: string) {\n  return key.startsWith('/');\n}\n\nexport function proxyUrlToAbsoluteURL(url: string | undefined): string {\n  if (!url) {\n    return '';\n  }\n  return isProxyUrlRelative(url) ? new URL(url, window.location.origin).toString() : url;\n}\n", "import { CURRENT_DEV_INSTANCE_SUFFIXES, LEGACY_DEV_INSTANCE_SUFFIXES } from './constants';\nimport { isStaging } from './utils/instance';\n\nexport function parseSearchParams(queryString = ''): URLSearchParams {\n  if (queryString.startsWith('?')) {\n    queryString = queryString.slice(1);\n  }\n  return new URLSearchParams(queryString);\n}\n\nexport function stripScheme(url = ''): string {\n  return (url || '').replace(/^.+:\\/\\//, '');\n}\n\nexport function addClerkPrefix(str: string | undefined) {\n  if (!str) {\n    return '';\n  }\n  let regex;\n  if (str.match(/^(clerk\\.)+\\w*$/)) {\n    regex = /(clerk\\.)*(?=clerk\\.)/;\n  } else if (str.match(/\\.clerk.accounts/)) {\n    return str;\n  } else {\n    regex = /^(clerk\\.)*/gi;\n  }\n\n  const stripped = str.replace(regex, '');\n  return `clerk.${stripped}`;\n}\n\n/**\n *\n * Retrieve the clerk-js major tag using the major version from the pkgVersion\n * param or use the frontendApi to determine if the canary tag should be used.\n * The default tag is `latest`.\n */\nexport const getClerkJsMajorVersionOrTag = (frontendApi: string, version?: string) => {\n  if (!version && isStaging(frontendApi)) {\n    return 'canary';\n  }\n\n  if (!version) {\n    return 'latest';\n  }\n\n  return version.split('.')[0] || 'latest';\n};\n\n/**\n *\n * Retrieve the clerk-js script url from the frontendApi and the major tag\n * using the {@link getClerkJsMajorVersionOrTag} or a provided clerkJSVersion tag.\n */\nexport const getScriptUrl = (frontendApi: string, { clerkJSVersion }: { clerkJSVersion?: string }) => {\n  const noSchemeFrontendApi = frontendApi.replace(/http(s)?:\\/\\//, '');\n  const major = getClerkJsMajorVersionOrTag(frontendApi, clerkJSVersion);\n  return `https://${noSchemeFrontendApi}/npm/@clerk/clerk-js@${clerkJSVersion || major}/dist/clerk.browser.js`;\n};\n\n// Returns true for hosts such as:\n// * accounts.foo.bar-13.lcl.dev\n// * accounts.foo.bar-13.lclstage.dev\n// * accounts.foo.bar-13.dev.lclclerk.com\nexport function isLegacyDevAccountPortalOrigin(host: string): boolean {\n  return LEGACY_DEV_INSTANCE_SUFFIXES.some(legacyDevSuffix => {\n    return host.startsWith('accounts.') && host.endsWith(legacyDevSuffix);\n  });\n}\n\n// Returns true for hosts such as:\n// * foo-bar-13.accounts.dev\n// * foo-bar-13.accountsstage.dev\n// * foo-bar-13.accounts.lclclerk.com\n// But false for:\n// * foo-bar-13.clerk.accounts.lclclerk.com\nexport function isCurrentDevAccountPortalOrigin(host: string): boolean {\n  return CURRENT_DEV_INSTANCE_SUFFIXES.some(currentDevSuffix => {\n    return host.endsWith(currentDevSuffix) && !host.endsWith('.clerk' + currentDevSuffix);\n  });\n}\n\n/* Functions below are taken from https://github.com/unjs/ufo/blob/main/src/utils.ts. LICENSE: MIT */\n\nconst TRAILING_SLASH_RE = /\\/$|\\/\\?|\\/#/;\n\nexport function hasTrailingSlash(input = '', respectQueryAndFragment?: boolean): boolean {\n  if (!respectQueryAndFragment) {\n    return input.endsWith('/');\n  }\n  return TRAILING_SLASH_RE.test(input);\n}\n\nexport function withTrailingSlash(input = '', respectQueryAndFragment?: boolean): string {\n  if (!respectQueryAndFragment) {\n    return input.endsWith('/') ? input : input + '/';\n  }\n  if (hasTrailingSlash(input, true)) {\n    return input || '/';\n  }\n  let path = input;\n  let fragment = '';\n  const fragmentIndex = input.indexOf('#');\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n    if (!path) {\n      return fragment;\n    }\n  }\n  const [s0, ...s] = path.split('?');\n  return s0 + '/' + (s.length > 0 ? `?${s.join('?')}` : '') + fragment;\n}\n\nexport function withoutTrailingSlash(input = '', respectQueryAndFragment?: boolean): string {\n  if (!respectQueryAndFragment) {\n    return (hasTrailingSlash(input) ? input.slice(0, -1) : input) || '/';\n  }\n  if (!hasTrailingSlash(input, true)) {\n    return input || '/';\n  }\n  let path = input;\n  let fragment = '';\n  const fragmentIndex = input.indexOf('#');\n  if (fragmentIndex >= 0) {\n    path = input.slice(0, fragmentIndex);\n    fragment = input.slice(fragmentIndex);\n  }\n  const [s0, ...s] = path.split('?');\n  return (s0.slice(0, -1) || '/') + (s.length > 0 ? `?${s.join('?')}` : '') + fragment;\n}\n\nexport function hasLeadingSlash(input = ''): boolean {\n  return input.startsWith('/');\n}\n\nexport function withoutLeadingSlash(input = ''): string {\n  return (hasLeadingSlash(input) ? input.slice(1) : input) || '/';\n}\n\nexport function withLeadingSlash(input = ''): string {\n  return hasLeadingSlash(input) ? input : '/' + input;\n}\n\nexport function cleanDoubleSlashes(input = ''): string {\n  return input\n    .split('://')\n    .map(string_ => string_.replace(/\\/{2,}/g, '/'))\n    .join('://');\n}\n\nexport function isNonEmptyURL(url: string) {\n  return url && url !== '/';\n}\n\nconst JOIN_LEADING_SLASH_RE = /^\\.?\\//;\n\nexport function joinURL(base: string, ...input: string[]): string {\n  let url = base || '';\n\n  for (const segment of input.filter(url => isNonEmptyURL(url))) {\n    if (url) {\n      // TODO: Handle .. when joining\n      const _segment = segment.replace(JOIN_LEADING_SLASH_RE, '');\n      url = withTrailingSlash(url) + _segment;\n    } else {\n      url = segment;\n    }\n  }\n\n  return url;\n}\n\n/* Code below is taken from https://github.com/vercel/next.js/blob/fe7ff3f468d7651a92865350bfd0f16ceba27db5/packages/next/src/shared/lib/utils.ts. LICENSE: MIT */\n\n// Scheme: https://tools.ietf.org/html/rfc3986#section-3.1\n// Absolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\nconst ABSOLUTE_URL_REGEX = /^[a-zA-Z][a-zA-Z\\d+\\-.]*?:/;\nexport const isAbsoluteUrl = (url: string) => ABSOLUTE_URL_REGEX.test(url);\n", "/**\n * This version selector is a bit complicated, so here is the flow:\n * 1. Use the clerkJSVersion prop on the provider\n * 2. Use the exact `@clerk/clerk-js` version if it is a `@snapshot` prerelease\n * 3. Use the prerelease tag of `@clerk/clerk-js` or the packageVersion provided\n * 4. Fallback to the major version of `@clerk/clerk-js` or the packageVersion provided\n * @param clerkJSVersion - The optional clerkJSVersion prop on the provider\n * @param packageVersion - The version of `@clerk/clerk-js` that will be used if an explicit version is not provided\n * @returns The npm tag, version or major version to use\n */\nexport const versionSelector = (clerkJSVersion: string | undefined, packageVersion = JS_PACKAGE_VERSION) => {\n  if (clerkJSVersion) {\n    return clerkJSVersion;\n  }\n\n  const prereleaseTag = getPrereleaseTag(packageVersion);\n  if (prereleaseTag) {\n    if (prereleaseTag === 'snapshot') {\n      return JS_PACKAGE_VERSION;\n    }\n\n    return prereleaseTag;\n  }\n\n  return getMajorVersion(packageVersion);\n};\n\nconst getPrereleaseTag = (packageVersion: string) =>\n  packageVersion\n    .trim()\n    .replace(/^v/, '')\n    .match(/-(.+?)(\\.|$)/)?.[1];\n\nexport const getMajorVersion = (packageVersion: string) => packageVersion.trim().replace(/^v/, '').split('.')[0];\n", "import { buildErrorThrower, ClerkRuntimeError } from './error';\nimport { createDevOrStagingUrlCache, parsePublishableKey } from './keys';\nimport { loadScript } from './loadScript';\nimport { isValidProxyUrl, proxyUrlToAbsoluteURL } from './proxy';\nimport type { ClerkOptions, SDKMetadata, Without } from './types';\nimport { addClerkPrefix } from './url';\nimport { versionSelector } from './versionSelector';\n\nconst ERROR_CODE = 'failed_to_load_clerk_js';\nconst ERROR_CODE_TIMEOUT = 'failed_to_load_clerk_js_timeout';\nconst FAILED_TO_LOAD_ERROR = 'Failed to load Clerk';\n\nconst { isDevOrStagingUrl } = createDevOrStagingUrlCache();\n\nconst errorThrower = buildErrorThrower({ packageName: '@clerk/shared' });\n\n/**\n * Sets the package name for error messages during ClerkJS script loading.\n *\n * @param packageName - The name of the package to use in error messages (e.g., '@clerk/clerk-react').\n * @example\n * ```typescript\n * setClerkJsLoadingErrorPackageName('@clerk/clerk-react');\n * ```\n */\nexport function setClerkJsLoadingErrorPackageName(packageName: string) {\n  errorThrower.setPackageName({ packageName });\n}\n\ntype LoadClerkJsScriptOptions = Without<ClerkOptions, 'isSatellite'> & {\n  publishableKey: string;\n  clerkJSUrl?: string;\n  clerkJSVariant?: 'headless' | '';\n  clerkJSVersion?: string;\n  sdkMetadata?: SDKMetadata;\n  proxyUrl?: string;\n  domain?: string;\n  nonce?: string;\n  /**\n   * Timeout in milliseconds to wait for clerk-js to load before considering it failed.\n   *\n   * @default 15000 (15 seconds)\n   */\n  scriptLoadTimeout?: number;\n};\n\n/**\n * Validates that window.Clerk exists and is properly initialized.\n * This ensures we don't have false positives where the script loads but Clerk is malformed.\n *\n * @returns `true` if window.Clerk exists and has the expected structure with a load method.\n */\nfunction isClerkProperlyLoaded(): boolean {\n  if (typeof window === 'undefined' || !(window as any).Clerk) {\n    return false;\n  }\n\n  // Basic validation that window.Clerk has the expected structure\n  const clerk = (window as any).Clerk;\n  return typeof clerk === 'object' && typeof clerk.load === 'function';\n}\n\n/**\n * Checks if an existing script has a request error using Performance API.\n *\n * @param scriptUrl - The URL of the script to check.\n * @returns True if the script has failed to load due to a network/HTTP error.\n */\nfunction hasScriptRequestError(scriptUrl: string): boolean {\n  if (typeof window === 'undefined' || !window.performance) {\n    return false;\n  }\n\n  const entries = performance.getEntriesByName(scriptUrl, 'resource') as PerformanceResourceTiming[];\n\n  if (entries.length === 0) {\n    return false;\n  }\n\n  const scriptEntry = entries[entries.length - 1];\n\n  // transferSize === 0 with responseEnd === 0 indicates network failure\n  // transferSize === 0 with responseEnd > 0 might be a 4xx/5xx error or blocked request\n  if (scriptEntry.transferSize === 0 && scriptEntry.decodedBodySize === 0) {\n    // If there was no response at all, it's definitely an error\n    if (scriptEntry.responseEnd === 0) {\n      return true;\n    }\n    // If we got a response but no content, likely an HTTP error (4xx/5xx)\n    if (scriptEntry.responseEnd > 0 && scriptEntry.responseStart > 0) {\n      return true;\n    }\n\n    if ('responseStatus' in scriptEntry) {\n      const status = (scriptEntry as any).responseStatus;\n      if (status >= 400) {\n        return true;\n      }\n      if (scriptEntry.responseStatus === 0) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n/**\n * Waits for Clerk to be properly loaded with a timeout mechanism.\n * Uses polling to check if Clerk becomes available within the specified timeout.\n *\n * @param timeoutMs - Maximum time to wait in milliseconds.\n * @param existingScript - The existing script element to wait for. Optional, for existing scripts.\n * @returns Promise that resolves with null if Clerk loads successfully, or rejects with an error if timeout is reached.\n */\nfunction waitForClerkWithTimeout(\n  timeoutMs: number,\n  existingScript?: HTMLScriptElement,\n): Promise<HTMLScriptElement | null> {\n  return new Promise((resolve, reject) => {\n    let resolved = false;\n\n    const cleanup = (timeoutId: ReturnType<typeof setTimeout>, pollInterval: ReturnType<typeof setInterval>) => {\n      clearTimeout(timeoutId);\n      clearInterval(pollInterval);\n    };\n\n    // Bail out early if the script fails to load, instead of waiting for the entire timeout\n    existingScript?.addEventListener('error', () => {\n      cleanup(timeoutId, pollInterval);\n      reject(new ClerkRuntimeError(FAILED_TO_LOAD_ERROR, { code: ERROR_CODE }));\n    });\n\n    const checkAndResolve = () => {\n      if (resolved) {\n        return;\n      }\n\n      if (isClerkProperlyLoaded()) {\n        resolved = true;\n        cleanup(timeoutId, pollInterval);\n        resolve(null);\n      }\n    };\n\n    const handleTimeout = () => {\n      if (resolved) {\n        return;\n      }\n\n      resolved = true;\n      cleanup(timeoutId, pollInterval);\n\n      if (!isClerkProperlyLoaded()) {\n        reject(new ClerkRuntimeError(FAILED_TO_LOAD_ERROR, { code: ERROR_CODE_TIMEOUT }));\n      } else {\n        resolve(null);\n      }\n    };\n\n    const timeoutId = setTimeout(handleTimeout, timeoutMs);\n\n    checkAndResolve();\n\n    const pollInterval = setInterval(() => {\n      if (resolved) {\n        clearInterval(pollInterval);\n        return;\n      }\n      checkAndResolve();\n    }, 100);\n  });\n}\n\n/**\n * Hotloads the Clerk JS script with robust failure detection and retry logic.\n *\n * For existing scripts:\n * - If no request error detected: waits for timeout, then retries with loadScript if timeout expires\n * - If request error detected: immediately retries with loadScript.\n *\n * For new scripts: uses loadScript which has built-in retry logic via the retry utility.\n *\n * @param opts - The options used to build the Clerk JS script URL and load the script.\n *               Must include a `publishableKey` if no existing script is found.\n * @returns Promise that resolves with null if Clerk loads successfully, or rejects with an error.\n *\n * @example\n * ```typescript\n * try {\n *   await loadClerkJsScript({ publishableKey: 'pk_test_...' });\n *   console.log('Clerk loaded successfully');\n * } catch (error) {\n *   console.error('Failed to load Clerk:', error.message);\n * }\n * ```\n */\nconst loadClerkJsScript = async (opts?: LoadClerkJsScriptOptions): Promise<HTMLScriptElement | null> => {\n  const timeout = opts?.scriptLoadTimeout ?? 15000;\n\n  if (isClerkProperlyLoaded()) {\n    return null;\n  }\n\n  if (!opts?.publishableKey) {\n    errorThrower.throwMissingPublishableKeyError();\n    return null;\n  }\n\n  const scriptUrl = clerkJsScriptUrl(opts);\n  const existingScript = document.querySelector<HTMLScriptElement>('script[data-clerk-js-script]');\n\n  if (existingScript) {\n    if (hasScriptRequestError(scriptUrl)) {\n      existingScript.remove();\n    } else {\n      try {\n        await waitForClerkWithTimeout(timeout, existingScript);\n        return null;\n      } catch {\n        existingScript.remove();\n      }\n    }\n  }\n\n  const loadPromise = waitForClerkWithTimeout(timeout);\n\n  loadScript(scriptUrl, {\n    async: true,\n    crossOrigin: 'anonymous',\n    nonce: opts.nonce,\n    beforeLoad: applyClerkJsScriptAttributes(opts),\n  }).catch(error => {\n    throw new ClerkRuntimeError(FAILED_TO_LOAD_ERROR + (error.message ? `, ${error.message}` : ''), {\n      code: ERROR_CODE,\n      cause: error,\n    });\n  });\n\n  return loadPromise;\n};\n\n/**\n * Generates a Clerk JS script URL based on the provided options.\n *\n * @param opts - The options to use when building the Clerk JS script URL.\n * @returns The complete URL to the Clerk JS script.\n *\n * @example\n * ```typescript\n * const url = clerkJsScriptUrl({ publishableKey: 'pk_test_...' });\n * // Returns: \"https://example.clerk.accounts.dev/npm/@clerk/clerk-js@5/dist/clerk.browser.js\"\n * ```\n */\nconst clerkJsScriptUrl = (opts: LoadClerkJsScriptOptions) => {\n  const { clerkJSUrl, clerkJSVariant, clerkJSVersion, proxyUrl, domain, publishableKey } = opts;\n\n  if (clerkJSUrl) {\n    return clerkJSUrl;\n  }\n\n  let scriptHost = '';\n  if (!!proxyUrl && isValidProxyUrl(proxyUrl)) {\n    scriptHost = proxyUrlToAbsoluteURL(proxyUrl).replace(/http(s)?:\\/\\//, '');\n  } else if (domain && !isDevOrStagingUrl(parsePublishableKey(publishableKey)?.frontendApi || '')) {\n    scriptHost = addClerkPrefix(domain);\n  } else {\n    scriptHost = parsePublishableKey(publishableKey)?.frontendApi || '';\n  }\n\n  const variant = clerkJSVariant ? `${clerkJSVariant.replace(/\\.+$/, '')}.` : '';\n  const version = versionSelector(clerkJSVersion);\n  return `https://${scriptHost}/npm/@clerk/clerk-js@${version}/dist/clerk.${variant}browser.js`;\n};\n\n/**\n * Builds an object of Clerk JS script attributes based on the provided options.\n *\n * @param options - The options containing the values for script attributes.\n * @returns An object containing data attributes to be applied to the script element.\n */\nconst buildClerkJsScriptAttributes = (options: LoadClerkJsScriptOptions) => {\n  const obj: Record<string, string> = {};\n\n  if (options.publishableKey) {\n    obj['data-clerk-publishable-key'] = options.publishableKey;\n  }\n\n  if (options.proxyUrl) {\n    obj['data-clerk-proxy-url'] = options.proxyUrl;\n  }\n\n  if (options.domain) {\n    obj['data-clerk-domain'] = options.domain;\n  }\n\n  if (options.nonce) {\n    obj.nonce = options.nonce;\n  }\n\n  return obj;\n};\n\n/**\n * Returns a function that applies Clerk JS script attributes to a script element.\n *\n * @param options - The options containing the values for script attributes.\n * @returns A function that accepts a script element and applies the attributes to it.\n */\nconst applyClerkJsScriptAttributes = (options: LoadClerkJsScriptOptions) => (script: HTMLScriptElement) => {\n  const attributes = buildClerkJsScriptAttributes(options);\n  for (const attribute in attributes) {\n    script.setAttribute(attribute, attributes[attribute]);\n  }\n};\n\nexport { buildClerkJsScriptAttributes, clerkJsScriptUrl, loadClerkJsScript };\nexport type { LoadClerkJsScriptOptions };\n", "export const isDevelopmentEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'development';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n\n  return false;\n};\n\nexport const isTestEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'test';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n\nexport const isProductionEnvironment = (): boolean => {\n  try {\n    return process.env.NODE_ENV === 'production';\n    // eslint-disable-next-line no-empty\n  } catch {}\n\n  // TODO: add support for import.meta.env.DEV that is being used by vite\n  return false;\n};\n", "import { isProductionEnvironment, isTestEnvironment } from './utils/runtimeEnvironment';\n/**\n * Mark class method / function as deprecated.\n *\n * A console WARNING will be displayed when class method / function is invoked.\n *\n * Examples\n * 1. Deprecate class method\n * class Example {\n *   getSomething = (arg1, arg2) => {\n *       deprecated('Example.getSomething', 'Use `getSomethingElse` instead.');\n *       return `getSomethingValue:${arg1 || '-'}:${arg2 || '-'}`;\n *   };\n * }\n *\n * 2. Deprecate function\n * const getSomething = () => {\n *   deprecated('getSomething', 'Use `getSomethingElse` instead.');\n *   return 'getSomethingValue';\n * };\n */\nconst displayedWarnings = new Set<string>();\nexport const deprecated = (fnName: string, warning: string, key?: string): void => {\n  const hideWarning = isTestEnvironment() || isProductionEnvironment();\n  const messageId = key ?? fnName;\n  if (displayedWarnings.has(messageId) || hideWarning) {\n    return;\n  }\n  displayedWarnings.add(messageId);\n\n  console.warn(\n    `Clerk - DEPRECATION WARNING: \"${fnName}\" is deprecated and will be removed in the next major release.\\n${warning}`,\n  );\n};\n/**\n * Mark class property as deprecated.\n *\n * A console WARNING will be displayed when class property is being accessed.\n *\n * 1. Deprecate class property\n * class Example {\n *   something: string;\n *   constructor(something: string) {\n *     this.something = something;\n *   }\n * }\n *\n * deprecatedProperty(Example, 'something', 'Use `somethingElse` instead.');\n *\n * 2. Deprecate class static property\n * class Example {\n *   static something: string;\n * }\n *\n * deprecatedProperty(Example, 'something', 'Use `somethingElse` instead.', true);\n */\ntype AnyClass = new (...args: any[]) => any;\n\nexport const deprecatedProperty = (cls: AnyClass, propName: string, warning: string, isStatic = false): void => {\n  const target = isStatic ? cls : cls.prototype;\n\n  let value = target[propName];\n  Object.defineProperty(target, propName, {\n    get() {\n      deprecated(propName, warning, `${cls.name}:${propName}`);\n      return value;\n    },\n    set(v: unknown) {\n      value = v;\n    },\n  });\n};\n\n/**\n * Mark object property as deprecated.\n *\n * A console WARNING will be displayed when object property is being accessed.\n *\n * 1. Deprecate object property\n * const obj = { something: 'aloha' };\n *\n * deprecatedObjectProperty(obj, 'something', 'Use `somethingElse` instead.');\n */\nexport const deprecatedObjectProperty = (\n  obj: Record<string, any>,\n  propName: string,\n  warning: string,\n  key?: string,\n): void => {\n  let value = obj[propName];\n  Object.defineProperty(obj, propName, {\n    get() {\n      deprecated(propName, warning, key);\n      return value;\n    },\n    set(v: unknown) {\n      value = v;\n    },\n  });\n};\n", "/**\n * Convert words to a sentence.\n *\n * @param items - An array of words to be joined.\n * @returns A string with the items joined by a comma and the last item joined by \", or\".\n */\nexport const toSentence = (items: string[]): string => {\n  // TODO: Once Safari supports it, use Intl.ListFormat\n  if (items.length == 0) {\n    return '';\n  }\n  if (items.length == 1) {\n    return items[0];\n  }\n  let sentence = items.slice(0, -1).join(', ');\n  sentence += `, or ${items.slice(-1)}`;\n  return sentence;\n};\n\nconst IP_V4_ADDRESS_REGEX =\n  /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n\n/**\n * Checks if a string is a valid IPv4 address.\n *\n * @returns True if the string is a valid IPv4 address, false otherwise.\n */\nexport function isIPV4Address(str: string | undefined | null): boolean {\n  return IP_V4_ADDRESS_REGEX.test(str || '');\n}\n\n/**\n * Converts the first character of a string to uppercase.\n *\n * @param str - The string to be converted.\n * @returns The modified string with the rest of the string unchanged.\n *\n * @example\n * ```ts\n * titleize('hello world') // 'Hello world'\n * ```\n */\nexport function titleize(str: string | undefined | null): string {\n  const s = str || '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\n/**\n * Converts a string from snake_case to camelCase.\n */\nexport function snakeToCamel(str: string | undefined): string {\n  return str ? str.replace(/([-_][a-z])/g, match => match.toUpperCase().replace(/-|_/, '')) : '';\n}\n\n/**\n * Converts a string from camelCase to snake_case.\n */\nexport function camelToSnake(str: string | undefined): string {\n  return str ? str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`) : '';\n}\n\nconst createDeepObjectTransformer = (transform: any) => {\n  const deepTransform = (obj: any): any => {\n    if (!obj) {\n      return obj;\n    }\n\n    if (Array.isArray(obj)) {\n      return obj.map(el => {\n        if (typeof el === 'object' || Array.isArray(el)) {\n          return deepTransform(el);\n        }\n        return el;\n      });\n    }\n\n    const copy = { ...obj };\n    const keys = Object.keys(copy);\n    for (const oldName of keys) {\n      const newName = transform(oldName.toString());\n      if (newName !== oldName) {\n        copy[newName] = copy[oldName];\n        delete copy[oldName];\n      }\n      if (typeof copy[newName] === 'object') {\n        copy[newName] = deepTransform(copy[newName]);\n      }\n    }\n    return copy;\n  };\n\n  return deepTransform;\n};\n\n/**\n * Transforms camelCased objects/ arrays to snake_cased.\n * This function recursively traverses all objects and arrays of the passed value\n * camelCased keys are removed.\n *\n * @function\n */\nexport const deepCamelToSnake = createDeepObjectTransformer(camelToSnake);\n\n/**\n * Transforms snake_cased objects/ arrays to camelCased.\n * This function recursively traverses all objects and arrays of the passed value\n * camelCased keys are removed.\n *\n * @function\n */\nexport const deepSnakeToCamel = createDeepObjectTransformer(snakeToCamel);\n\n/**\n * A function to determine if a value is truthy.\n *\n * @returns True for `true`, true, positive numbers. False for `false`, false, 0, negative integers and anything else.\n */\nexport function isTruthy(value: unknown): boolean {\n  // Return if Boolean\n  if (typeof value === `boolean`) {\n    return value;\n  }\n\n  // Return false if null or undefined\n  if (value === undefined || value === null) {\n    return false;\n  }\n\n  // If the String is true or false\n  if (typeof value === `string`) {\n    if (value.toLowerCase() === `true`) {\n      return true;\n    }\n\n    if (value.toLowerCase() === `false`) {\n      return false;\n    }\n  }\n\n  // Now check if it's a number\n  const number = parseInt(value as string, 10);\n  if (isNaN(number)) {\n    return false;\n  }\n\n  if (number > 0) {\n    return true;\n  }\n\n  // Default to false\n  return false;\n}\n\n/**\n * Get all non-undefined values from an object.\n */\nexport function getNonUndefinedValues<T extends object>(obj: T): Partial<T> {\n  return Object.entries(obj).reduce((acc, [key, value]) => {\n    if (value !== undefined) {\n      acc[key as keyof T] = value;\n    }\n    return acc;\n  }, {} as Partial<T>);\n}\n", "import type { TelemetryEvent } from '../types';\n\ntype TtlInMilliseconds = number;\n\nconst DEFAULT_CACHE_TTL_MS = 86400000; // 24 hours\n\n/**\n * Interface for cache storage used by the telemetry throttler.\n * Implementations can use localStorage, in-memory storage, or any other storage mechanism.\n */\nexport interface ThrottlerCache {\n  getItem(key: string): TtlInMilliseconds | undefined;\n  setItem(key: string, value: TtlInMilliseconds): void;\n  removeItem(key: string): void;\n}\n\n/**\n * Manages throttling for telemetry events using a configurable cache implementation\n * to mitigate event flooding in frequently executed code paths.\n */\nexport class TelemetryEventThrottler {\n  #cache: ThrottlerCache;\n  #cacheTtl = DEFAULT_CACHE_TTL_MS;\n\n  constructor(cache: ThrottlerCache) {\n    this.#cache = cache;\n  }\n\n  isEventThrottled(payload: TelemetryEvent): boolean {\n    const now = Date.now();\n    const key = this.#generateKey(payload);\n    const entry = this.#cache.getItem(key);\n\n    if (!entry) {\n      this.#cache.setItem(key, now);\n      return false;\n    }\n\n    const shouldInvalidate = now - entry > this.#cacheTtl;\n    if (shouldInvalidate) {\n      this.#cache.setItem(key, now);\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Generates a consistent unique key for telemetry events by sorting payload properties.\n   * This ensures that payloads with identical content in different orders produce the same key.\n   */\n  #generateKey(event: TelemetryEvent): string {\n    const { sk: _sk, pk: _pk, payload, ...rest } = event;\n\n    const sanitizedEvent: Omit<TelemetryEvent, 'sk' | 'pk' | 'payload'> & TelemetryEvent['payload'] = {\n      ...payload,\n      ...rest,\n    };\n\n    return JSON.stringify(\n      Object.keys({\n        ...payload,\n        ...rest,\n      })\n        .sort()\n        .map(key => sanitizedEvent[key]),\n    );\n  }\n}\n\n/**\n * LocalStorage-based cache implementation for browser environments.\n */\nexport class LocalStorageThrottlerCache implements ThrottlerCache {\n  #storageKey = 'clerk_telemetry_throttler';\n\n  getItem(key: string): TtlInMilliseconds | undefined {\n    return this.#getCache()[key];\n  }\n\n  setItem(key: string, value: TtlInMilliseconds): void {\n    try {\n      const cache = this.#getCache();\n      cache[key] = value;\n      localStorage.setItem(this.#storageKey, JSON.stringify(cache));\n    } catch (err: unknown) {\n      const isQuotaExceededError =\n        err instanceof DOMException &&\n        // Check error names for different browsers\n        (err.name === 'QuotaExceededError' || err.name === 'NS_ERROR_DOM_QUOTA_REACHED');\n\n      if (isQuotaExceededError && localStorage.length > 0) {\n        // Clear our cache if quota exceeded\n        localStorage.removeItem(this.#storageKey);\n      }\n    }\n  }\n\n  removeItem(key: string): void {\n    try {\n      const cache = this.#getCache();\n      delete cache[key];\n      localStorage.setItem(this.#storageKey, JSON.stringify(cache));\n    } catch {\n      // Silently fail if we can't remove\n    }\n  }\n\n  #getCache(): Record<string, TtlInMilliseconds> {\n    try {\n      const cacheString = localStorage.getItem(this.#storageKey);\n      if (!cacheString) {\n        return {};\n      }\n      return JSON.parse(cacheString);\n    } catch {\n      return {};\n    }\n  }\n\n  static isSupported(): boolean {\n    return typeof window !== 'undefined' && !!window.localStorage;\n  }\n}\n\n/**\n * In-memory cache implementation for non-browser environments (e.g., React Native).\n */\nexport class InMemoryThrottlerCache implements ThrottlerCache {\n  #cache: Map<string, TtlInMilliseconds> = new Map();\n  #maxSize = 10000; // Defensive limit to prevent memory issues\n\n  getItem(key: string): TtlInMilliseconds | undefined {\n    // Defensive: clear cache if it gets too large\n    if (this.#cache.size > this.#maxSize) {\n      this.#cache.clear();\n      return undefined;\n    }\n\n    return this.#cache.get(key);\n  }\n\n  setItem(key: string, value: TtlInMilliseconds): void {\n    this.#cache.set(key, value);\n  }\n\n  removeItem(key: string): void {\n    this.#cache.delete(key);\n  }\n}\n", "/**\n * The `TelemetryCollector` class handles collection of telemetry events from Clerk SDKs. Telemetry is opt-out and can be disabled by setting a CLERK_TELEMETRY_DISABLED environment variable.\n * The `ClerkProvider` also accepts a `telemetry` prop that will be passed to the collector during initialization:.\n *\n * ```jsx\n * <ClerkProvider telemetry={false}>\n *    ...\n * </ClerkProvider>\n * ```\n *\n * For more information, please see the telemetry documentation page: https://clerk.com/docs/telemetry.\n */\nimport { parsePublishableKey } from '../keys';\nimport type {\n  InstanceType,\n  SDKMetadata,\n  TelemetryCollector as TelemetryCollectorInterface,\n  TelemetryEvent,\n  TelemetryEventRaw,\n  TelemetryLogEntry,\n} from '../types';\nimport { isTruthy } from '../underscore';\nimport { InMemoryThrottlerCache, LocalStorageThrottlerCache, TelemetryEventThrottler } from './throttler';\nimport type { TelemetryCollectorOptions } from './types';\n\n/**\n * Local interface for window.Clerk to avoid global type pollution.\n * This is only used within this module and doesn't affect other packages.\n */\ninterface WindowWithClerk extends Window {\n  Clerk?: {\n    constructor?: {\n      sdkMetadata?: SDKMetadata;\n    };\n  };\n}\n\n/**\n * Type guard to check if window.Clerk exists and has the expected structure.\n */\nfunction isWindowClerkWithMetadata(clerk: unknown): clerk is { constructor: { sdkMetadata?: SDKMetadata } } {\n  return (\n    typeof clerk === 'object' && clerk !== null && 'constructor' in clerk && typeof clerk.constructor === 'function'\n  );\n}\n\ntype TelemetryCollectorConfig = Pick<\n  TelemetryCollectorOptions,\n  'samplingRate' | 'disabled' | 'debug' | 'maxBufferSize' | 'perEventSampling'\n> & {\n  endpoint: string;\n};\n\ntype TelemetryMetadata = Required<\n  Pick<TelemetryCollectorOptions, 'clerkVersion' | 'sdk' | 'sdkVersion' | 'publishableKey' | 'secretKey'>\n> & {\n  /**\n   * The instance type, derived from the provided publishableKey.\n   */\n  instanceType: InstanceType;\n};\n\n/**\n * Structure of log data sent to the telemetry endpoint.\n */\ntype TelemetryLogData = {\n  /** Service that generated the log. */\n  sdk: string;\n  /** The version of the SDK where the event originated from. */\n  sdkv: string;\n  /** The version of Clerk where the event originated from. */\n  cv: string;\n  /** Log level (info, warn, error, debug, etc.). */\n  lvl: TelemetryLogEntry['level'];\n  /** Log message. */\n  msg: string;\n  /** Instance ID - optional. */\n  iid?: string;\n  /** Timestamp when log was generated. */\n  ts: string;\n  /** Primary key. */\n  pk: string | null;\n  /** Additional payload for the log. */\n  payload: Record<string, unknown> | null;\n};\n\ntype TelemetryBufferItem = { kind: 'event'; value: TelemetryEvent } | { kind: 'log'; value: TelemetryLogData };\n\n// Accepted log levels for runtime validation\nconst VALID_LOG_LEVELS = new Set<string>(['error', 'warn', 'info', 'debug', 'trace']);\n\nconst DEFAULT_CONFIG: Partial<TelemetryCollectorConfig> = {\n  samplingRate: 1,\n  maxBufferSize: 5,\n  // Production endpoint: https://clerk-telemetry.com\n  // Staging endpoint: https://staging.clerk-telemetry.com\n  // Local: http://localhost:8787\n  endpoint: 'https://clerk-telemetry.com',\n};\n\nexport class TelemetryCollector implements TelemetryCollectorInterface {\n  #config: Required<TelemetryCollectorConfig>;\n  #eventThrottler: TelemetryEventThrottler;\n  #metadata: TelemetryMetadata = {} as TelemetryMetadata;\n  #buffer: TelemetryBufferItem[] = [];\n  #pendingFlush: number | ReturnType<typeof setTimeout> | null = null;\n\n  constructor(options: TelemetryCollectorOptions) {\n    this.#config = {\n      maxBufferSize: options.maxBufferSize ?? DEFAULT_CONFIG.maxBufferSize,\n      samplingRate: options.samplingRate ?? DEFAULT_CONFIG.samplingRate,\n      perEventSampling: options.perEventSampling ?? true,\n      disabled: options.disabled ?? false,\n      debug: options.debug ?? false,\n      endpoint: DEFAULT_CONFIG.endpoint,\n    } as Required<TelemetryCollectorConfig>;\n\n    if (!options.clerkVersion && typeof window === 'undefined') {\n      // N/A in a server environment\n      this.#metadata.clerkVersion = '';\n    } else {\n      this.#metadata.clerkVersion = options.clerkVersion ?? '';\n    }\n\n    // We will try to grab the SDK data lazily when an event is triggered, so it should always be defined once the event is sent.\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.#metadata.sdk = options.sdk!;\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    this.#metadata.sdkVersion = options.sdkVersion!;\n\n    this.#metadata.publishableKey = options.publishableKey ?? '';\n\n    const parsedKey = parsePublishableKey(options.publishableKey);\n    if (parsedKey) {\n      this.#metadata.instanceType = parsedKey.instanceType;\n    }\n\n    if (options.secretKey) {\n      // Only send the first 16 characters of the secret key to to avoid sending the full key. We can still query against the partial key.\n      this.#metadata.secretKey = options.secretKey.substring(0, 16);\n    }\n\n    // Use LocalStorage cache in browsers where it's supported, otherwise fall back to in-memory cache\n    const cache = LocalStorageThrottlerCache.isSupported()\n      ? new LocalStorageThrottlerCache()\n      : new InMemoryThrottlerCache();\n    this.#eventThrottler = new TelemetryEventThrottler(cache);\n  }\n\n  get isEnabled(): boolean {\n    if (this.#metadata.instanceType !== 'development') {\n      return false;\n    }\n\n    // In browser or client environments, we most likely pass the disabled option to the collector, but in environments\n    // where environment variables are available we also check for `CLERK_TELEMETRY_DISABLED`.\n    if (\n      this.#config.disabled ||\n      (typeof process !== 'undefined' && process.env && isTruthy(process.env.CLERK_TELEMETRY_DISABLED))\n    ) {\n      return false;\n    }\n\n    // navigator.webdriver is a property generally set by headless browsers that are running in an automated testing environment.\n    // Data from these environments is not meaningful for us and has the potential to produce a large volume of events, so we disable\n    // collection in this case. (ref: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/webdriver)\n    if (typeof window !== 'undefined' && !!window?.navigator?.webdriver) {\n      return false;\n    }\n\n    return true;\n  }\n\n  get isDebug(): boolean {\n    return (\n      this.#config.debug ||\n      (typeof process !== 'undefined' && process.env && isTruthy(process.env.CLERK_TELEMETRY_DEBUG))\n    );\n  }\n\n  record(event: TelemetryEventRaw): void {\n    try {\n      const preparedPayload = this.#preparePayload(event.event, event.payload);\n\n      this.#logEvent(preparedPayload.event, preparedPayload);\n\n      if (!this.#shouldRecord(preparedPayload, event.eventSamplingRate)) {\n        return;\n      }\n\n      this.#buffer.push({ kind: 'event', value: preparedPayload });\n\n      this.#scheduleFlush();\n    } catch (error) {\n      console.error('[clerk/telemetry] Error recording telemetry event', error);\n    }\n  }\n\n  /**\n   * Records a telemetry log entry if logging is enabled and not in debug mode.\n   *\n   * @param entry - The telemetry log entry to record.\n   */\n  recordLog(entry: TelemetryLogEntry): void {\n    try {\n      if (!this.#shouldRecordLog(entry)) {\n        return;\n      }\n\n      const levelIsValid = typeof entry?.level === 'string' && VALID_LOG_LEVELS.has(entry.level);\n      const messageIsValid = typeof entry?.message === 'string' && entry.message.trim().length > 0;\n\n      let normalizedTimestamp: Date | null = null;\n      const timestampInput: unknown = (entry as unknown as { timestamp?: unknown })?.timestamp;\n      if (typeof timestampInput === 'number' || typeof timestampInput === 'string') {\n        const candidate = new Date(timestampInput);\n        if (!Number.isNaN(candidate.getTime())) {\n          normalizedTimestamp = candidate;\n        }\n      }\n\n      if (!levelIsValid || !messageIsValid || normalizedTimestamp === null) {\n        if (this.isDebug && typeof console !== 'undefined') {\n          console.warn('[clerk/telemetry] Dropping invalid telemetry log entry', {\n            levelIsValid,\n            messageIsValid,\n            timestampIsValid: normalizedTimestamp !== null,\n          });\n        }\n        return;\n      }\n\n      const sdkMetadata = this.#getSDKMetadata();\n\n      const logData: TelemetryLogData = {\n        sdk: sdkMetadata.name,\n        sdkv: sdkMetadata.version,\n        cv: this.#metadata.clerkVersion ?? '',\n        lvl: entry.level,\n        msg: entry.message,\n        ts: normalizedTimestamp.toISOString(),\n        pk: this.#metadata.publishableKey || null,\n        payload: this.#sanitizeContext(entry.context),\n      };\n\n      this.#buffer.push({ kind: 'log', value: logData });\n\n      this.#scheduleFlush();\n    } catch (error) {\n      console.error('[clerk/telemetry] Error recording telemetry log entry', error);\n    }\n  }\n\n  #shouldRecord(preparedPayload: TelemetryEvent, eventSamplingRate?: number) {\n    return this.isEnabled && !this.isDebug && this.#shouldBeSampled(preparedPayload, eventSamplingRate);\n  }\n\n  #shouldRecordLog(_entry: TelemetryLogEntry): boolean {\n    // Always allow logs from debug logger to be sent. Debug logger itself is already gated elsewhere.\n    return true;\n  }\n\n  #shouldBeSampled(preparedPayload: TelemetryEvent, eventSamplingRate?: number) {\n    const randomSeed = Math.random();\n\n    const toBeSampled =\n      randomSeed <= this.#config.samplingRate &&\n      (this.#config.perEventSampling === false ||\n        typeof eventSamplingRate === 'undefined' ||\n        randomSeed <= eventSamplingRate);\n\n    if (!toBeSampled) {\n      return false;\n    }\n\n    return !this.#eventThrottler.isEventThrottled(preparedPayload);\n  }\n\n  #scheduleFlush(): void {\n    // On the server, we want to flush immediately as we have less guarantees about the lifecycle of the process\n    if (typeof window === 'undefined') {\n      this.#flush();\n      return;\n    }\n    const isBufferFull = this.#buffer.length >= this.#config.maxBufferSize;\n    if (isBufferFull) {\n      // If the buffer is full, flush immediately to make sure we minimize the chance of event loss.\n      // Cancel any pending flushes as we're going to flush immediately\n      if (this.#pendingFlush) {\n        if (typeof cancelIdleCallback !== 'undefined') {\n          cancelIdleCallback(Number(this.#pendingFlush));\n        } else {\n          clearTimeout(Number(this.#pendingFlush));\n        }\n      }\n      this.#flush();\n      return;\n    }\n\n    // If we have a pending flush, do nothing\n    if (this.#pendingFlush) {\n      return;\n    }\n\n    if ('requestIdleCallback' in window) {\n      this.#pendingFlush = requestIdleCallback(() => {\n        this.#flush();\n        this.#pendingFlush = null;\n      });\n    } else {\n      // This is not an ideal solution, but it at least waits until the next tick\n      this.#pendingFlush = setTimeout(() => {\n        this.#flush();\n        this.#pendingFlush = null;\n      }, 0);\n    }\n  }\n\n  #flush(): void {\n    // Capture the current buffer and clear it immediately to avoid closure references\n    const itemsToSend = [...this.#buffer];\n    this.#buffer = [];\n\n    this.#pendingFlush = null;\n\n    if (itemsToSend.length === 0) {\n      return;\n    }\n\n    const eventsToSend = itemsToSend\n      .filter(item => item.kind === 'event')\n      .map(item => (item as { kind: 'event'; value: TelemetryEvent }).value);\n\n    const logsToSend = itemsToSend\n      .filter(item => item.kind === 'log')\n      .map(item => (item as { kind: 'log'; value: TelemetryLogData }).value);\n\n    if (eventsToSend.length > 0) {\n      const eventsUrl = new URL('/v1/event', this.#config.endpoint);\n      fetch(eventsUrl, {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        keepalive: true,\n        method: 'POST',\n        // TODO: We send an array here with that idea that we can eventually send multiple events.\n        body: JSON.stringify({ events: eventsToSend }),\n      }).catch(() => void 0);\n    }\n\n    if (logsToSend.length > 0) {\n      const logsUrl = new URL('/v1/logs', this.#config.endpoint);\n      fetch(logsUrl, {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        keepalive: true,\n        method: 'POST',\n        body: JSON.stringify({ logs: logsToSend }),\n      }).catch(() => void 0);\n    }\n  }\n\n  /**\n   * If running in debug mode, log the event and its payload to the console.\n   */\n  #logEvent(event: TelemetryEvent['event'], payload: Record<string, any>) {\n    if (!this.isDebug) {\n      return;\n    }\n\n    if (typeof console.groupCollapsed !== 'undefined') {\n      console.groupCollapsed('[clerk/telemetry]', event);\n      console.log(payload);\n      console.groupEnd();\n    } else {\n      console.log('[clerk/telemetry]', event, payload);\n    }\n  }\n\n  /**\n   * If in browser, attempt to lazily grab the SDK metadata from the Clerk singleton, otherwise fallback to the initially passed in values.\n   *\n   * This is necessary because the sdkMetadata can be set by the host SDK after the TelemetryCollector is instantiated.\n   */\n  #getSDKMetadata() {\n    const sdkMetadata = {\n      name: this.#metadata.sdk,\n      version: this.#metadata.sdkVersion,\n    };\n\n    if (typeof window !== 'undefined') {\n      const windowWithClerk = window as WindowWithClerk;\n\n      if (windowWithClerk.Clerk) {\n        const windowClerk = windowWithClerk.Clerk;\n\n        if (isWindowClerkWithMetadata(windowClerk) && windowClerk.constructor.sdkMetadata) {\n          const { name, version } = windowClerk.constructor.sdkMetadata;\n\n          if (name !== undefined) {\n            sdkMetadata.name = name;\n          }\n          if (version !== undefined) {\n            sdkMetadata.version = version;\n          }\n        }\n      }\n    }\n\n    return sdkMetadata;\n  }\n\n  /**\n   * Append relevant metadata from the Clerk singleton to the event payload.\n   */\n  #preparePayload(event: TelemetryEvent['event'], payload: TelemetryEvent['payload']): TelemetryEvent {\n    const sdkMetadata = this.#getSDKMetadata();\n\n    return {\n      event,\n      cv: this.#metadata.clerkVersion ?? '',\n      it: this.#metadata.instanceType ?? '',\n      sdk: sdkMetadata.name,\n      sdkv: sdkMetadata.version,\n      ...(this.#metadata.publishableKey ? { pk: this.#metadata.publishableKey } : {}),\n      ...(this.#metadata.secretKey ? { sk: this.#metadata.secretKey } : {}),\n      payload,\n    };\n  }\n\n  /**\n   * Best-effort sanitization of the context payload. Returns a plain object with JSON-serializable\n   * values or null when the input is missing or not serializable. Arrays are not accepted.\n   */\n  #sanitizeContext(context: unknown): Record<string, unknown> | null {\n    if (context === null || typeof context === 'undefined') {\n      return null;\n    }\n    if (typeof context !== 'object') {\n      return null;\n    }\n    try {\n      const cleaned = JSON.parse(JSON.stringify(context));\n      if (cleaned && typeof cleaned === 'object' && !Array.isArray(cleaned)) {\n        return cleaned as Record<string, unknown>;\n      }\n      return null;\n    } catch {\n      return null;\n    }\n  }\n}\n", "import type { TelemetryEventRaw } from '../../types';\n\nconst EVENT_COMPONENT_MOUNTED = 'COMPONENT_MOUNTED';\nconst EVENT_COMPONENT_OPENED = 'COMPONENT_OPENED';\nconst EVENT_SAMPLING_RATE = 0.1;\n\n/** Increase sampling for high-signal auth components on mount. */\nconst AUTH_COMPONENTS = new Set<string>(['SignIn', 'SignUp']);\n\n/**\n * Returns the per-event sampling rate for component-mounted telemetry events.\n * Uses a higher rate for SignIn/SignUp to improve signal quality.\n *\n *  @internal\n */\nfunction getComponentMountedSamplingRate(component: string): number {\n  return AUTH_COMPONENTS.has(component) ? 1 : EVENT_SAMPLING_RATE;\n}\n\ntype ComponentMountedBase = {\n  component: string;\n};\n\ntype EventPrebuiltComponent = ComponentMountedBase & {\n  appearanceProp: boolean;\n  elements: boolean;\n  variables: boolean;\n  baseTheme: boolean;\n};\n\ntype EventComponentMounted = ComponentMountedBase & TelemetryEventRaw['payload'];\n\n/**\n * Factory for prebuilt component telemetry events.\n *\n * @internal\n */\nfunction createPrebuiltComponentEvent(event: typeof EVENT_COMPONENT_MOUNTED | typeof EVENT_COMPONENT_OPENED) {\n  return function (\n    component: string,\n    props?: Record<string, any>,\n    additionalPayload?: TelemetryEventRaw['payload'],\n  ): TelemetryEventRaw<EventPrebuiltComponent> {\n    return {\n      event,\n      eventSamplingRate:\n        event === EVENT_COMPONENT_MOUNTED ? getComponentMountedSamplingRate(component) : EVENT_SAMPLING_RATE,\n      payload: {\n        component,\n        appearanceProp: Boolean(props?.appearance),\n        baseTheme: Boolean(props?.appearance?.baseTheme),\n        elements: Boolean(props?.appearance?.elements),\n        variables: Boolean(props?.appearance?.variables),\n        ...additionalPayload,\n      },\n    };\n  };\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a prebuilt (AIO) component is mounted.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Will be filtered to a known list of props.\n * @param additionalPayload - Additional data to send with the event.\n * @example\n * telemetry.record(eventPrebuiltComponentMounted('SignUp', props));\n */\nexport function eventPrebuiltComponentMounted(\n  component: string,\n  props?: Record<string, any>,\n  additionalPayload?: TelemetryEventRaw['payload'],\n): TelemetryEventRaw<EventPrebuiltComponent> {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_MOUNTED)(component, props, additionalPayload);\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a prebuilt (AIO) component is opened as a modal.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Will be filtered to a known list of props.\n * @param additionalPayload - Additional data to send with the event.\n * @example\n * telemetry.record(eventPrebuiltComponentOpened('GoogleOneTap', props));\n */\nexport function eventPrebuiltComponentOpened(\n  component: string,\n  props?: Record<string, any>,\n  additionalPayload?: TelemetryEventRaw['payload'],\n): TelemetryEventRaw<EventPrebuiltComponent> {\n  return createPrebuiltComponentEvent(EVENT_COMPONENT_OPENED)(component, props, additionalPayload);\n}\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for when a component is mounted. Use `eventPrebuiltComponentMounted` for prebuilt components.\n *\n * **Caution:** Filter the `props` you pass to this function to avoid sending too much data.\n *\n * @param component - The name of the component.\n * @param props - The props passed to the component. Ideally you only pass a handful of props here.\n * @example\n * telemetry.record(eventComponentMounted('SignUp', props));\n */\nexport function eventComponentMounted(\n  component: string,\n  props: TelemetryEventRaw['payload'] = {},\n): TelemetryEventRaw<EventComponentMounted> {\n  return {\n    event: EVENT_COMPONENT_MOUNTED,\n    eventSamplingRate: getComponentMountedSamplingRate(component),\n    payload: {\n      component,\n      ...props,\n    },\n  };\n}\n", "import type { TelemetryEventRaw } from '../../types';\n\nconst EVENT_METHOD_CALLED = 'METHOD_CALLED';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype EventMethodCalled = {\n  method: string;\n} & Record<string, string | number | boolean>;\n\n/**\n * Fired when a helper method is called from a Clerk SDK.\n */\nexport function eventMethodCalled(\n  method: string,\n  payload?: Record<string, unknown>,\n): TelemetryEventRaw<EventMethodCalled> {\n  return {\n    event: EVENT_METHOD_CALLED,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload: {\n      method,\n      ...payload,\n    },\n  };\n}\n", "import type { TelemetryEventRaw } from '../../types';\n\nconst EVENT_FRAMEWORK_METADATA = 'FRAMEWORK_METADATA';\nconst EVENT_SAMPLING_RATE = 0.1;\n\ntype EventFrameworkMetadata = Record<string, string | number | boolean>;\n\n/**\n * Fired when a helper method is called from a Clerk SDK.\n */\nexport function eventFrameworkMetadata(payload: EventFrameworkMetadata): TelemetryEventRaw<EventFrameworkMetadata> {\n  return {\n    event: EVENT_FRAMEWORK_METADATA,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload,\n  };\n}\n", "import type { Appearance, BaseTheme, TelemetryEventRaw } from '../../types';\n\nexport const EVENT_THEME_USAGE = 'THEME_USAGE';\nexport const EVENT_SAMPLING_RATE = 1;\n\ntype EventThemeUsage = {\n  /**\n   * The name of the theme being used (e.g., \"shadcn\", \"neobrutalism\", etc.).\n   */\n  themeName?: string;\n};\n\n/**\n * Helper function for `telemetry.record()`. Create a consistent event object for tracking theme usage in ClerkProvider.\n *\n * @param appearance - The appearance prop from ClerkProvider.\n * @example\n * telemetry.record(eventThemeUsage(appearance));\n */\nexport function eventThemeUsage(appearance?: Appearance): TelemetryEventRaw<EventThemeUsage> {\n  const payload = analyzeThemeUsage(appearance);\n\n  return {\n    event: EVENT_THEME_USAGE,\n    eventSamplingRate: EVENT_SAMPLING_RATE,\n    payload,\n  };\n}\n\n/**\n * Analyzes the appearance prop to extract theme usage information for telemetry.\n *\n * @internal\n */\nfunction analyzeThemeUsage(appearance?: Appearance): EventThemeUsage {\n  if (!appearance || typeof appearance !== 'object') {\n    return {};\n  }\n\n  // Prioritize the new theme property over deprecated baseTheme\n  const themeProperty = appearance.theme || appearance.baseTheme;\n\n  if (!themeProperty) {\n    return {};\n  }\n\n  let themeName: string | undefined;\n\n  if (Array.isArray(themeProperty)) {\n    // Look for the first identifiable theme name in the array\n    for (const theme of themeProperty) {\n      const name = extractThemeName(theme);\n      if (name) {\n        themeName = name;\n        break;\n      }\n    }\n  } else {\n    themeName = extractThemeName(themeProperty);\n  }\n\n  return { themeName };\n}\n\n/**\n * Extracts the theme name from a theme object.\n *\n * @internal\n */\nfunction extractThemeName(theme: BaseTheme): string | undefined {\n  if (typeof theme === 'string') {\n    return theme;\n  }\n\n  if (typeof theme === 'object' && theme !== null) {\n    // Check for explicit theme name\n    if ('name' in theme && typeof theme.name === 'string') {\n      return theme.name;\n    }\n  }\n\n  return undefined;\n}\n", "import type { OrganizationMembershipResource } from './types';\n\n/**\n * Finds the Organization membership for a given Organization ID from a list of memberships\n * @param organizationMemberships - Array of Organization memberships to search through\n * @param organizationId - ID of the Organization to find the membership for\n * @returns The matching Organization membership or undefined if not found\n */\nexport function getCurrentOrganizationMembership(\n  organizationMemberships: OrganizationMembershipResource[],\n  organizationId: string,\n) {\n  return organizationMemberships.find(\n    organizationMembership => organizationMembership.organization.id === organizationId,\n  );\n}\n", "/**\n * A ES6 compatible utility that implements `Promise.allSettled`\n * @internal\n */\nexport function allSettled<T>(\n  iterable: Iterable<Promise<T>>,\n): Promise<({ status: 'fulfilled'; value: T } | { status: 'rejected'; reason: any })[]> {\n  const promises = Array.from(iterable).map(p =>\n    p.then(\n      value => ({ status: 'fulfilled', value }) as const,\n      reason => ({ status: 'rejected', reason }) as const,\n    ),\n  );\n  return Promise.all(promises);\n}\n", "import { isDevelopmentEnvironment } from './runtimeEnvironment';\n\nexport const logErrorInDevMode = (message: string) => {\n  if (isDevelopmentEnvironment()) {\n    console.error(`Clerk: ${message}`);\n  }\n};\n", "// Keys that could lead to prototype pollution attacks\nconst DANGEROUS_KEYS = new Set(['__proto__', 'constructor', 'prototype']);\n\n/**\n * Merges 2 objects without creating new object references\n * The merged props will appear on the `target` object\n * If `target` already has a value for a given key it will not be overwritten\n */\nexport const fastDeepMergeAndReplace = (\n  source: Record<any, any> | undefined | null,\n  target: Record<any, any> | undefined | null,\n) => {\n  if (!source || !target) {\n    return;\n  }\n\n  for (const key in source) {\n    // Skip dangerous keys to prevent prototype pollution\n    if (DANGEROUS_KEYS.has(key)) {\n      continue;\n    }\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === undefined) {\n        target[key] = new (Object.getPrototypeOf(source[key]).constructor)();\n      }\n      fastDeepMergeAndReplace(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== undefined) {\n      target[key] = source[key];\n    }\n  }\n};\n\nexport const fastDeepMergeAndKeep = (\n  source: Record<any, any> | undefined | null,\n  target: Record<any, any> | undefined | null,\n) => {\n  if (!source || !target) {\n    return;\n  }\n\n  for (const key in source) {\n    // Skip dangerous keys to prevent prototype pollution\n    if (DANGEROUS_KEYS.has(key)) {\n      continue;\n    }\n    if (Object.prototype.hasOwnProperty.call(source, key) && source[key] !== null && typeof source[key] === `object`) {\n      if (target[key] === undefined) {\n        target[key] = new (Object.getPrototypeOf(source[key]).constructor)();\n      }\n      fastDeepMergeAndKeep(source[key], target[key]);\n    } else if (Object.prototype.hasOwnProperty.call(source, key) && target[key] === undefined) {\n      target[key] = source[key];\n    }\n  }\n};\n", "/**\n * Checks if the window object is defined. You can also use this to check if something is happening on the client side.\n * @returns {boolean}\n */\nexport function inBrowser(): boolean {\n  return typeof window !== 'undefined';\n}\n\nconst botAgents = [\n  'bot',\n  'spider',\n  'crawl',\n  'APIs-Google',\n  'AdsBot',\n  'Googlebot',\n  'mediapartners',\n  'Google Favicon',\n  'FeedFetcher',\n  'Google-Read-Aloud',\n  'DuplexWeb-Google',\n  'googleweblight',\n  'bing',\n  'yandex',\n  'baidu',\n  'duckduck',\n  'yahoo',\n  'ecosia',\n  'ia_archiver',\n  'facebook',\n  'instagram',\n  'pinterest',\n  'reddit',\n  'slack',\n  'twitter',\n  'whatsapp',\n  'youtube',\n  'semrush',\n];\nconst botAgentRegex = new RegExp(botAgents.join('|'), 'i');\n\n/**\n * Checks if the user agent is a bot.\n * @param userAgent - Any user agent string\n * @returns {boolean}\n */\nexport function userAgentIsRobot(userAgent: string): boolean {\n  return !userAgent ? false : botAgentRegex.test(userAgent);\n}\n\n/**\n * Checks if the current environment is a browser and the user agent is not a bot.\n * @returns {boolean}\n */\nexport function isValidBrowser(): boolean {\n  const navigator = inBrowser() ? window?.navigator : null;\n  if (!navigator) {\n    return false;\n  }\n  return !userAgentIsRobot(navigator?.userAgent) && !navigator?.webdriver;\n}\n\n/**\n * Checks if the current environment is a browser and if the navigator is online.\n * @returns {boolean}\n */\nexport function isBrowserOnline(): boolean {\n  const navigator = inBrowser() ? window?.navigator : null;\n  if (!navigator) {\n    return false;\n  }\n\n  const isNavigatorOnline = navigator?.onLine;\n\n  // Being extra safe with the experimental `connection` property, as it is not defined in all browsers\n  // https://developer.mozilla.org/en-US/docs/Web/API/Navigator/connection#browser_compatibility\n  // @ts-ignore\n  const isExperimentalConnectionOnline = navigator?.connection?.rtt !== 0 && navigator?.connection?.downlink !== 0;\n  return isExperimentalConnectionOnline && isNavigatorOnline;\n}\n\n/**\n * Runs `isBrowserOnline` and `isValidBrowser` to check if the current environment is a valid browser and if the navigator is online.\n * @returns {boolean}\n */\nexport function isValidBrowserOnline(): boolean {\n  return isBrowserOnline() && isValidBrowser();\n}\n", "import type {\n  InitialState,\n  JwtPayload,\n  OrganizationCustomPermissionKey,\n  OrganizationCustomRoleKey,\n  OrganizationResource,\n  Resources,\n  SignedInSessionResource,\n  UserResource,\n} from './types';\n\n/**\n * Derives authentication state based on the current rendering context (SSR or client-side).\n */\nexport const deriveState = (clerkOperational: boolean, state: Resources, initialState: InitialState | undefined) => {\n  if (!clerkOperational && initialState) {\n    return deriveFromSsrInitialState(initialState);\n  }\n  return deriveFromClientSideState(state);\n};\n\nconst deriveFromSsrInitialState = (initialState: InitialState) => {\n  const userId = initialState.userId;\n  const user = initialState.user as UserResource;\n  const sessionId = initialState.sessionId;\n  const sessionStatus = initialState.sessionStatus;\n  const sessionClaims = initialState.sessionClaims;\n  const session = initialState.session as SignedInSessionResource;\n  const organization = initialState.organization as OrganizationResource;\n  const orgId = initialState.orgId;\n  const orgRole = initialState.orgRole as OrganizationCustomRoleKey;\n  const orgPermissions = initialState.orgPermissions as OrganizationCustomPermissionKey[];\n  const orgSlug = initialState.orgSlug;\n  const actor = initialState.actor;\n  const factorVerificationAge = initialState.factorVerificationAge;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    sessionStatus,\n    sessionClaims,\n    organization,\n    orgId,\n    orgRole,\n    orgPermissions,\n    orgSlug,\n    actor,\n    factorVerificationAge,\n  };\n};\n\nconst deriveFromClientSideState = (state: Resources) => {\n  const userId: string | null | undefined = state.user ? state.user.id : state.user;\n  const user = state.user;\n  const sessionId: string | null | undefined = state.session ? state.session.id : state.session;\n  const session = state.session;\n  const sessionStatus = state.session?.status;\n  const sessionClaims: JwtPayload | null | undefined = state.session\n    ? state.session.lastActiveToken?.jwt?.claims\n    : null;\n  const factorVerificationAge: [number, number] | null = state.session ? state.session.factorVerificationAge : null;\n  const actor = session?.actor;\n  const organization = state.organization;\n  const orgId: string | null | undefined = state.organization ? state.organization.id : state.organization;\n  const orgSlug = organization?.slug;\n  const membership = organization\n    ? user?.organizationMemberships?.find(om => om.organization.id === orgId)\n    : organization;\n  const orgPermissions = membership ? membership.permissions : membership;\n  const orgRole = membership ? membership.role : membership;\n\n  return {\n    userId,\n    user,\n    sessionId,\n    session,\n    sessionStatus,\n    sessionClaims,\n    organization,\n    orgId,\n    orgRole,\n    orgSlug,\n    orgPermissions,\n    actor,\n    factorVerificationAge,\n  };\n};\n", "import { setClerkJsLoadingErrorPackageName } from '@clerk/shared/loadClerkJsScript';\n\nimport { setErrorThrowerOptions } from './errors/errorThrower';\n\nexport * from './components';\nexport * from './composables';\n\nexport { clerkPlugin, type PluginOptions } from './plugin';\nexport { updateClerkOptions } from './utils';\n\nsetErrorThrowerOptions({ packageName: PACKAGE_NAME });\nsetClerkJsLoadingErrorPackageName(PACKAGE_NAME);\n", "import type { PropType } from 'vue';\nimport { defineComponent, h, onUnmounted, ref, watch, watchEffect } from 'vue';\n\nimport type { CustomPortalsRendererProps } from '../types';\nimport { ClerkLoaded } from './controlComponents';\n\ntype AnyObject = Record<string, any>;\n\nexport const CustomPortalsRenderer = defineComponent((props: CustomPortalsRendererProps) => {\n  return () => [...(props?.customPagesPortals ?? []), ...(props?.customMenuItemsPortals ?? [])];\n});\n;Object.defineProperty(CustomPortalsRenderer, \"props\", {\n  value: [\"customPagesPortals\",\"customMenuItemsPortals\"],\n});\n\n/**\n * Used to orchestrate mounting of Clerk components in a host Vue application.\n * Components are rendered into a specific DOM node using mount/unmount methods provided by the Clerk class.\n */\nexport const ClerkHostRenderer = defineComponent({\n  props: {\n    mount: {\n      type: Function as PropType<(node: HTMLDivElement, props: AnyObject) => void>,\n      required: false,\n    },\n    unmount: {\n      type: Function as PropType<(node: HTMLDivElement) => void>,\n      required: false,\n    },\n    open: {\n      type: Function as PropType<(props: AnyObject) => void>,\n      required: false,\n    },\n    close: {\n      type: Function as PropType<() => void>,\n      required: false,\n    },\n    updateProps: {\n      type: Function as PropType<(props: { node: HTMLDivElement; props: AnyObject | undefined }) => void>,\n      required: false,\n    },\n    props: {\n      type: Object,\n      required: false,\n      default: () => ({}),\n    },\n  },\n  setup(props) {\n    const portalRef = ref<HTMLDivElement | null>(null);\n    let isPortalMounted = false;\n\n    watchEffect(() => {\n      // Skip if portal element isn't ready or component is already mounted\n      if (!portalRef.value || isPortalMounted) {\n        return;\n      }\n\n      if (props.mount) {\n        props.mount(portalRef.value, props.props);\n      }\n      if (props.open) {\n        props.open(props.props);\n      }\n      isPortalMounted = true;\n    });\n\n    watch(\n      () => props.props,\n      newProps => {\n        if (isPortalMounted && props.updateProps && portalRef.value) {\n          props.updateProps({ node: portalRef.value, props: newProps });\n        }\n      },\n      { deep: true },\n    );\n\n    onUnmounted(() => {\n      if (isPortalMounted && portalRef.value) {\n        if (props.unmount) {\n          props.unmount(portalRef.value);\n        }\n        if (props.close) {\n          props.close();\n        }\n      }\n    });\n\n    return () => h(ClerkLoaded, () => h('div', { ref: portalRef }));\n  },\n});\n", "import { deprecated } from '@clerk/shared/deprecated';\nimport type {\n  HandleOAuthCallbackParams,\n  PendingSessionOptions,\n  ProtectProps as _ProtectProps,\n  RedirectOptions,\n} from '@clerk/shared/types';\nimport { defineComponent } from 'vue';\n\nimport { useAuth } from '../composables/useAuth';\nimport { useClerk } from '../composables/useClerk';\nimport { useClerkContext } from '../composables/useClerkContext';\nimport { useClerkLoaded } from '../utils/useClerkLoaded';\n\nexport const SignedIn = defineComponent<PendingSessionOptions>(({ treatPendingAsSignedOut }, { slots }) => {\n  const { userId } = useAuth({ treatPendingAsSignedOut });\n\n  return () => (userId.value ? slots.default?.() : null);\n});\n;Object.defineProperty(SignedIn, \"props\", {\n  value: [\"treatPendingAsSignedOut\"],\n});\n\nexport const SignedOut = defineComponent<PendingSessionOptions>(({ treatPendingAsSignedOut }, { slots }) => {\n  const { userId } = useAuth({ treatPendingAsSignedOut });\n\n  return () => (userId.value === null ? slots.default?.() : null);\n});\n;Object.defineProperty(SignedOut, \"props\", {\n  value: [\"treatPendingAsSignedOut\"],\n});\n\nexport const ClerkLoaded = defineComponent((_, { slots }) => {\n  const clerk = useClerk();\n\n  return () => (clerk.value?.loaded ? slots.default?.() : null);\n});\n\nexport const ClerkLoading = defineComponent((_, { slots }) => {\n  const clerk = useClerk();\n\n  return () => (!clerk.value?.loaded ? slots.default?.() : null);\n});\n\nexport const RedirectToSignIn = defineComponent((props: RedirectOptions) => {\n  const { sessionCtx, clientCtx } = useClerkContext('RedirectToSignIn');\n\n  useClerkLoaded(clerk => {\n    const hasSignedInSessions = clientCtx.value?.signedInSessions && clientCtx.value.signedInSessions.length > 0;\n\n    if (sessionCtx.value === null && hasSignedInSessions) {\n      void clerk.redirectToAfterSignOut();\n    } else {\n      void clerk.redirectToSignIn(props);\n    }\n  });\n\n  return () => null;\n});\n;Object.defineProperty(RedirectToSignIn, \"props\", {\n  value: [\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\"],\n});\n\nexport const RedirectToSignUp = defineComponent((props: RedirectOptions) => {\n  useClerkLoaded(clerk => {\n    void clerk.redirectToSignUp(props);\n  });\n\n  return () => null;\n});\n;Object.defineProperty(RedirectToSignUp, \"props\", {\n  value: [\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\"],\n});\n\nexport const RedirectToTasks = defineComponent((props: RedirectOptions) => {\n  useClerkLoaded(clerk => {\n    void clerk.redirectToTasks(props);\n  });\n\n  return () => null;\n});\n;Object.defineProperty(RedirectToTasks, \"props\", {\n  value: [\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\"],\n});\n\n/**\n * @deprecated Use [`redirectToUserProfile()`](https://clerk.com/docs/reference/javascript/clerk/redirect-methods#redirect-to-user-profile) instead.\n */\nexport const RedirectToUserProfile = defineComponent(() => {\n  useClerkLoaded(clerk => {\n    deprecated('RedirectToUserProfile', 'Use the `redirectToUserProfile()` method instead.');\n    void clerk.redirectToUserProfile();\n  });\n\n  return () => null;\n});\n\n/**\n * @deprecated Use [`redirectToOrganizationProfile()`](https://clerk.com/docs/reference/javascript/clerk/redirect-methods#redirect-to-organization-profile) instead.\n */\nexport const RedirectToOrganizationProfile = defineComponent(() => {\n  useClerkLoaded(clerk => {\n    deprecated('RedirectToOrganizationProfile', 'Use the `redirectToOrganizationProfile()` method instead.');\n    void clerk.redirectToOrganizationProfile();\n  });\n\n  return () => null;\n});\n\n/**\n * @deprecated Use [`redirectToCreateOrganization()`](https://clerk.com/docs/reference/javascript/clerk/redirect-methods#redirect-to-create-organization) instead.\n */\nexport const RedirectToCreateOrganization = defineComponent(() => {\n  useClerkLoaded(clerk => {\n    deprecated('RedirectToCreateOrganization', 'Use the `redirectToCreateOrganization()` method instead.');\n    void clerk.redirectToCreateOrganization();\n  });\n\n  return () => null;\n});\n\nexport const AuthenticateWithRedirectCallback = defineComponent((props: HandleOAuthCallbackParams) => {\n  useClerkLoaded(clerk => {\n    void clerk.handleRedirectCallback(props);\n  });\n\n  return () => null;\n});\n;Object.defineProperty(AuthenticateWithRedirectCallback, \"props\", {\n  value: [\"transferable\",\"signInForceRedirectUrl\",\"signInFallbackRedirectUrl\",\"signUpForceRedirectUrl\",\"signUpFallbackRedirectUrl\",\"afterSignInUrl\",\"afterSignUpUrl\",\"redirectUrl\",\"signInUrl\",\"signUpUrl\",\"firstFactorUrl\",\"secondFactorUrl\",\"resetPasswordUrl\",\"continueSignUpUrl\",\"verifyEmailAddressUrl\",\"verifyPhoneNumberUrl\",\"reloadResource\",\"unsafeMetadata\"],\n});\n\nexport type ProtectProps = _ProtectProps & PendingSessionOptions;\n\nexport const Protect = defineComponent((props: ProtectProps, { slots }) => {\n  const { isLoaded, has, userId } = useAuth({ treatPendingAsSignedOut: props.treatPendingAsSignedOut });\n\n  return () => {\n    /**\n     * Avoid flickering children or fallback while clerk is loading sessionId or userId\n     */\n    if (!isLoaded.value) {\n      return null;\n    }\n\n    /**\n     * Fallback to UI provided by user or `null` if authorization checks failed\n     */\n    if (!userId.value) {\n      return slots.fallback?.();\n    }\n\n    /**\n     * Check against the results of `has` called inside the callback\n     */\n    if (typeof props.condition === 'function') {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      if (props.condition(has.value!)) {\n        return slots.default?.();\n      }\n\n      return slots.fallback?.();\n    }\n\n    if (props.role || props.permission || props.feature || props.plan) {\n      if (has.value?.(props)) {\n        return slots.default?.();\n      }\n\n      return slots.fallback?.();\n    }\n\n    /**\n     * If neither of the authorization params are passed behave as the `<SignedIn/>`.\n     * If fallback is present render that instead of rendering nothing.\n     */\n    return slots.default?.();\n  };\n});\n;Object.defineProperty(Protect, \"props\", {\n  value: [\"condition\",\"role\",\"permission\",\"feature\",\"plan\",\"treatPendingAsSignedOut\"],\n});\n", "import type { LoadedClerk } from '@clerk/shared/types';\nimport { watch } from 'vue';\n\nimport { useClerk } from '../composables';\n\n/**\n * Executes a callback when Clerk is loaded.\n *\n * @param callback - Function to execute once Clerk is loaded\n * @example\n * ```ts\n * useClerkLoaded((clerk) => {\n *   clerk.redirectToSignUp(props);\n * });\n * ```\n */\nexport const useClerkLoaded = (callback: (clerk: LoadedClerk) => void) => {\n  const clerk = useClerk();\n\n  let unwatch: (() => void) | undefined;\n  // eslint-disable-next-line prefer-const\n  unwatch = watch(\n    clerk,\n    unwrappedClerk => {\n      if (!unwrappedClerk?.loaded) {\n        return;\n      }\n\n      callback(unwrappedClerk as LoadedClerk);\n      unwatch?.();\n    },\n    { immediate: true },\n  );\n};\n", "import type { UseUserReturn } from '@clerk/shared/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseUser = () => ToComputedRefs<UseUserReturn>;\n\n/**\n * Returns the current user's [`User`](https://clerk.com/docs/reference/javascript/user/user) object along with loading states.\n *\n * @example\n * <script setup>\n * import { useUser } from '@clerk/vue'\n *\n * const { isLoaded, isSignedIn, user } = useUser()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else-if=\"isSignedIn\">\n *     Hello {{ user.fullName }}!\n *   </div>\n *\n *   <div v-else>\n *     Not signed in\n *   </div>\n * </template>\n */\nexport const useUser: UseUser = () => {\n  const { userCtx } = useClerkContext('useUser');\n\n  const result = computed<UseUserReturn>(() => {\n    if (userCtx.value === undefined) {\n      return { isLoaded: false, isSignedIn: undefined, user: undefined };\n    }\n\n    if (userCtx.value === null) {\n      return { isLoaded: true, isSignedIn: false, user: null };\n    }\n\n    return { isLoaded: true, isSignedIn: true, user: userCtx.value };\n  });\n\n  return toComputedRefs(result);\n};\n", "import type { UseSessionReturn } from '@clerk/shared/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSession = () => ToComputedRefs<UseSessionReturn>;\n\n/**\n * Returns the current [`Session`](https://clerk.com/docs/reference/javascript/session) object which provides\n * information about the active session and methods to manage it.\n *\n * @example\n * <script setup>\n * import { useSession } from '@clerk/vue'\n *\n * const { isLoaded, session, isSignedIn } = useSession()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else-if=\"!isSignedIn\">\n *     <!-- Handle not signed in state -->\n *   </div>\n *\n *   <div v-else>\n *     <p>This session has been active since {{ session.lastActiveAt.toLocaleString() }}</p>\n *   </div>\n * </template>\n */\nexport const useSession: UseSession = () => {\n  const { sessionCtx, clerk } = useClerkContext('useSession');\n\n  const result = computed<UseSessionReturn>(() => {\n    if (sessionCtx.value === undefined) {\n      return { isLoaded: false, isSignedIn: undefined, session: undefined };\n    }\n\n    const isSignedOut = sessionCtx.value === null;\n    if (isSignedOut) {\n      return { isLoaded: true, isSignedIn: false, session: null };\n    }\n\n    return { isLoaded: true, isSignedIn: !!clerk.value?.isSignedIn, session: sessionCtx.value };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { eventMethodCalled } from '@clerk/shared/telemetry';\nimport type { UseSignInReturn } from '@clerk/shared/types';\nimport { computed, watch } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSignIn = () => ToComputedRefs<UseSignInReturn>;\n\n/**\n * Returns the current [`SignIn`](https://clerk.com/docs/reference/javascript/sign-in) object which provides\n * methods and state for managing the sign-in flow.\n *\n * @example\n * <script setup>\n * import { useSignIn } from '@clerk/vue'\n *\n * const { isLoaded, signIn } = useSignIn()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else>\n *     The current sign in attempt status is {{ signIn.status }}.\n *   </div>\n * </template>\n */\nexport const useSignIn: UseSignIn = () => {\n  const { clerk, clientCtx } = useClerkContext('useSignIn');\n\n  watch(\n    clerk,\n    value => {\n      if (value) {\n        value.telemetry?.record(eventMethodCalled('useSignIn'));\n      }\n    },\n    { once: true },\n  );\n\n  const result = computed<UseSignInReturn>(() => {\n    if (!clerk.value || !clientCtx.value) {\n      return { isLoaded: false, signIn: undefined, setActive: undefined };\n    }\n\n    return {\n      isLoaded: true,\n      signIn: clientCtx.value.signIn,\n      setActive: clerk.value.setActive,\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { eventMethodCalled } from '@clerk/shared/telemetry';\nimport type { UseSignUpReturn } from '@clerk/shared/types';\nimport { computed, watch } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSignUp = () => ToComputedRefs<UseSignUpReturn>;\n\n/**\n * Returns the current [`SignUp`](https://clerk.com/docs/reference/javascript/sign-up) object which provides\n * methods and state for managing the sign-up flow.\n *\n * @example\n * <script setup>\n * import { useSignUp } from '@clerk/vue'\n *\n * const { isLoaded, signUp } = useSignUp()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else>\n *     The current sign-up attempt status is {{ signUp.status }}.\n *   </div>\n * </template>\n */\nexport const useSignUp: UseSignUp = () => {\n  const { clerk, clientCtx } = useClerkContext('useSignUp');\n\n  watch(\n    clerk,\n    value => {\n      if (value) {\n        value.telemetry?.record(eventMethodCalled('useSignUp'));\n      }\n    },\n    { once: true },\n  );\n\n  const result = computed<UseSignUpReturn>(() => {\n    if (!clerk.value || !clientCtx.value) {\n      return { isLoaded: false, signUp: undefined, setActive: undefined };\n    }\n\n    return {\n      isLoaded: true,\n      signUp: clientCtx.value.signUp,\n      setActive: clerk.value.setActive,\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import type { UseSessionListReturn } from '@clerk/shared/types';\nimport { computed } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\n\ntype UseSessionList = () => ToComputedRefs<UseSessionListReturn>;\n\n/**\n * Returns an array of [`Session`](https://clerk.com/docs/reference/javascript/session) objects that have been\n * registered on the client device.\n *\n * @example\n * <script setup>\n * import { useSessionList } from '@clerk/vue'\n *\n * const { isLoaded, sessions } = useSessionList()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else>\n *     <p>\n *       Welcome back. You have been here\n *       {{ sessions.length }} times before.\n *     </p>\n *   </div>\n * </template>\n */\nexport const useSessionList: UseSessionList = () => {\n  const { clerk, clientCtx } = useClerkContext('useSessionList');\n\n  const result = computed<UseSessionListReturn>(() => {\n    if (!clientCtx.value) {\n      return { isLoaded: false, sessions: undefined, setActive: undefined };\n    }\n\n    return {\n      isLoaded: true,\n      sessions: clientCtx.value.sessions,\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      setActive: clerk.value!.setActive,\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import { getCurrentOrganizationMembership } from '@clerk/shared/organization';\nimport type { OrganizationMembershipResource, OrganizationResource } from '@clerk/shared/types';\nimport { computed, watch } from 'vue';\n\nimport type { ToComputedRefs } from '../utils';\nimport { toComputedRefs } from '../utils';\nimport { useClerkContext } from './useClerkContext';\nimport { useSession } from './useSession';\n\ntype UseOrganizationReturn =\n  | {\n      isLoaded: false;\n      organization: undefined;\n      membership: undefined;\n    }\n  | {\n      isLoaded: true;\n      organization: OrganizationResource;\n      membership: undefined;\n    }\n  | {\n      isLoaded: boolean;\n      organization: OrganizationResource | null;\n      membership: OrganizationMembershipResource | null | undefined;\n    };\n\ntype UseOrganization = () => ToComputedRefs<UseOrganizationReturn>;\n\n/**\n * Returns the current [`Organization`](https://clerk.com/docs/reference/javascript/organization/organization) object\n * along with loading states and membership information.\n *\n * @example\n * <script setup>\n * import { useOrganization } from '@clerk/vue'\n *\n * const { isLoaded, organization, membership } = useOrganization()\n * </script>\n *\n * <template>\n *   <div v-if=\"!isLoaded\">\n *     <!-- Handle loading state -->\n *   </div>\n *\n *   <div v-else-if=\"organization\">\n *     <h1>{{ organization.name }}</h1>\n *     <p>Your role: {{ membership.role }}</p>\n *   </div>\n *\n *   <div v-else>\n *     No active organization\n *   </div>\n * </template>\n */\nexport const useOrganization: UseOrganization = () => {\n  const { clerk, organizationCtx } = useClerkContext('useOrganization');\n  const { session } = useSession();\n\n  watch(\n    clerk,\n    value => {\n      if (value) {\n        // Optional chaining is important for `@clerk/vue` usage with older clerk-js versions that don't have the method\n        value.__internal_attemptToEnableEnvironmentSetting?.({\n          for: 'organizations',\n          caller: 'useOrganization',\n        });\n      }\n    },\n    { once: true },\n  );\n\n  const result = computed<UseOrganizationReturn>(() => {\n    if (organizationCtx.value === undefined) {\n      return { isLoaded: false, organization: undefined, membership: undefined };\n    }\n\n    if (organizationCtx.value === null) {\n      return { isLoaded: true, organization: null, membership: null };\n    }\n\n    /** In SSR context we include only the organization object when loadOrg is set to true. */\n    if (!clerk.value?.loaded) {\n      return {\n        isLoaded: true,\n        organization: organizationCtx.value,\n        membership: undefined,\n      };\n    }\n\n    return {\n      isLoaded: clerk.value.loaded,\n      organization: organizationCtx.value,\n      membership: getCurrentOrganizationMembership(\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        session.value!.user.organizationMemberships,\n        organizationCtx.value.id,\n      ),\n    };\n  });\n\n  return toComputedRefs(result);\n};\n", "import type { ClerkOptions } from '@clerk/shared/types';\n\ntype ClerkUpdateOptions = Pick<ClerkOptions, 'appearance' | 'localization'>;\n\n/**\n * Updates Clerk's options at runtime.\n *\n * @param options - The Clerk options to update\n *\n * @example\n * import { frFR } from '@clerk/localizations';\n * import { dark } from '@clerk/themes';\n *\n * updateClerkOptions({\n *   appearance: { baseTheme: dark },\n *   localization: frFR\n * });\n */\nexport function updateClerkOptions(options: ClerkUpdateOptions) {\n  if (!window.Clerk) {\n    throw new Error('Missing Clerk instance');\n  }\n\n  // @ts-expect-error - `__unstable__updateProps` is not exposed as public API from `@clerk/types`\n  void window.Clerk.__unstable__updateProps({\n    options: {\n      localization: options.localization,\n    },\n    appearance: options.appearance,\n  });\n}\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport { useClerk } from '../../composables';\nimport type { SignInProps } from '@clerk/shared/types';\n\nconst clerk = useClerk();\n\nconst props = withDefaults(defineProps<SignInProps>(), {\n  transferable: undefined,\n  withSignUp: undefined,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountSignIn\"\n    :unmount=\"clerk?.unmountSignIn\"\n    :props=\"props\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport { useClerk } from '../../composables';\nimport type { SignUpProps } from '@clerk/shared/types';\n\nconst clerk = useClerk();\n\nconst props = defineProps<SignUpProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountSignUp\"\n    :unmount=\"clerk?.unmountSignUp\"\n    :props=\"props\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport { useClerk } from '../../composables';\nimport type { GoogleOneTapProps } from '@clerk/shared/types';\n\nconst clerk = useClerk();\n\nconst props = withDefaults(defineProps<GoogleOneTapProps>(), {\n  cancelOnTapOutside: true,\n  itpSupport: true,\n  fedCmSupport: true,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :open=\"clerk?.openGoogleOneTap\"\n    :close=\"clerk?.closeGoogleOneTap\"\n    :props=\"props\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport type { WaitlistProps } from '@clerk/shared/types';\nimport { useClerk } from '../../composables';\n\nconst clerk = useClerk();\nconst props = defineProps<WaitlistProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountWaitlist\"\n    :unmount=\"clerk?.unmountWaitlist\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"props\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport { useClerk } from '../../composables';\nimport type { CreateOrganizationProps } from '@clerk/shared/types';\n\nconst clerk = useClerk();\nconst props = defineProps<CreateOrganizationProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountCreateOrganization\"\n    :unmount=\"clerk?.unmountCreateOrganization\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"props\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { useClerk } from '../../composables';\nimport type { OrganizationListProps } from '@clerk/shared/types';\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\n\nconst clerk = useClerk();\nconst props = defineProps<OrganizationListProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountOrganizationList\"\n    :unmount=\"clerk?.unmountOrganizationList\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"props\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport type { PricingTableProps } from '@clerk/shared/types';\nimport { useClerk } from '../../composables';\n\nconst clerk = useClerk();\nconst props = defineProps<PricingTableProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountPricingTable\"\n    :unmount=\"clerk?.unmountPricingTable\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"props\"\n  />\n</template>\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport type { APIKeysProps } from '@clerk/shared/types';\nimport { useClerk } from '../../composables';\n\nconst clerk = useClerk();\nconst props = defineProps<APIKeysProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountAPIKeys\"\n    :unmount=\"clerk?.unmountAPIKeys\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"props\"\n  />\n</template>\n", "import { defineComponent, inject } from 'vue';\n\nimport { errorThrower } from '../../../errors/errorThrower';\nimport { userProfileLinkRenderedError, userProfilePageRenderedError } from '../../../errors/messages';\nimport { UserProfileInjectionKey } from '../../../keys';\nimport type { UserProfileLinkProps, UserProfilePageProps } from '../../../types';\nimport _UserProfile from './UserProfile.vue';\n\nexport const UserProfilePage = defineComponent(\n  (props: UserProfilePageProps, { slots }) => {\n    const ctx = inject(UserProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userProfilePageRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: UserProfilePage,\n    });\n\n    return () => null;\n  },\n  { name: 'UserProfilePage' },\n);\n;Object.defineProperty(UserProfilePage, \"props\", {\n  value: [\"label\",\"url\"],\n});\n\nexport const UserProfileLink = defineComponent(\n  (props: UserProfileLinkProps, { slots }) => {\n    const ctx = inject(UserProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userProfileLinkRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: UserProfileLink,\n    });\n\n    return () => null;\n  },\n  { name: 'UserProfileLink' },\n);\n;Object.defineProperty(UserProfileLink, \"props\", {\n  value: [\"url\",\"label\"],\n});\n\nexport const UserProfile = Object.assign(_UserProfile, {\n  Page: UserProfilePage,\n  Link: UserProfileLink,\n});\n", "<script setup lang=\"ts\">\nimport { useClerk } from '../../../composables';\nimport type { UserProfileProps } from '@clerk/shared/types';\nimport { ClerkHostRenderer, CustomPortalsRenderer } from '../../ClerkHostRenderer';\nimport { computed, provide } from 'vue';\nimport { UserProfileInjectionKey } from '../../../keys';\nimport { useUserProfileCustomPages } from '../../../utils/useCustomPages';\n\ntype Props = Omit<UserProfileProps, 'customPages'>;\nconst props = defineProps<Props>();\n\nconst clerk = useClerk();\nconst { customPages, customPagesPortals, addCustomPage } = useUserProfileCustomPages();\n\nconst finalProps = computed(() => ({\n  ...props,\n  customPages: customPages.value,\n}));\n\nprovide(UserProfileInjectionKey, {\n  addCustomPage,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountUserProfile\"\n    :unmount=\"clerk?.unmountUserProfile\"\n    :props=\"finalProps\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n  />\n  <CustomPortalsRenderer :custom-pages-portals=\"customPagesPortals\" />\n  <slot />\n</template>\n", "import type { CustomPage } from '@clerk/shared/types';\nimport { logErrorInDevMode } from '@clerk/shared/utils';\nimport type { Component } from 'vue';\nimport { ref } from 'vue';\n\nimport { OrganizationProfileLink, OrganizationProfilePage } from '../components/ui-components/OrganizationProfile';\nimport { UserProfileLink, UserProfilePage } from '../components/ui-components/UserProfile';\nimport { customLinkWrongProps, customPageWrongProps } from '../errors/messages';\nimport type { AddCustomPagesParams } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserProfileCustomPages = () => {\n  const { customPages, customPagesPortals, addCustomPage } = useCustomPages({\n    reorderItemsLabels: ['account', 'security', 'billing', 'apiKeys'],\n    PageComponent: UserProfilePage,\n    LinkComponent: UserProfileLink,\n    componentName: 'UserProfile',\n  });\n\n  const addUserProfileCustomPage = (params: AddCustomPagesParams) => {\n    return addCustomPage(params);\n  };\n\n  return {\n    customPages,\n    customPagesPortals,\n    addCustomPage: addUserProfileCustomPage,\n  };\n};\n\nexport const useOrganizationProfileCustomPages = () => {\n  const { customPages, customPagesPortals, addCustomPage } = useCustomPages({\n    reorderItemsLabels: ['general', 'members', 'billing', 'apiKeys'],\n    PageComponent: OrganizationProfilePage,\n    LinkComponent: OrganizationProfileLink,\n    componentName: 'OrganizationProfile',\n  });\n\n  const addOrganizationProfileCustomPage = (params: AddCustomPagesParams) => {\n    return addCustomPage(params);\n  };\n\n  return {\n    customPages,\n    customPagesPortals,\n    addCustomPage: addOrganizationProfileCustomPage,\n  };\n};\n\ntype UseCustomPagesParams = {\n  LinkComponent: Component;\n  PageComponent: Component;\n  reorderItemsLabels: string[];\n  componentName: string;\n};\n\nexport const useCustomPages = (customPagesParams: UseCustomPagesParams) => {\n  const customPages = ref<CustomPage[]>([]);\n  const { portals: customPagesPortals, mount, unmount } = useCustomElementPortal();\n  const { PageComponent, LinkComponent, reorderItemsLabels, componentName } = customPagesParams;\n\n  const addCustomPage = (params: AddCustomPagesParams) => {\n    const { props, slots, component } = params;\n    const { label, url } = props;\n\n    if (isThatComponent(component, PageComponent)) {\n      if (isReorderItem(props, slots, reorderItemsLabels)) {\n        // This is a reordering item\n        customPages.value.push({ label });\n      } else if (isCustomPage(props, slots)) {\n        // This is a custom page\n        customPages.value.push({\n          label,\n          url,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n          mount(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.default!);\n          },\n          unmount,\n        });\n      } else {\n        logErrorInDevMode(customPageWrongProps(componentName));\n        return;\n      }\n    }\n\n    if (isThatComponent(component, LinkComponent)) {\n      if (isExternalLink(props, slots)) {\n        // This is an external link\n        customPages.value.push({\n          label,\n          url,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n        });\n      } else {\n        logErrorInDevMode(customLinkWrongProps(componentName));\n        return;\n      }\n    }\n  };\n\n  return {\n    customPages,\n    customPagesPortals,\n    addCustomPage,\n  };\n};\n\nconst isReorderItem = (props: any, slots: AddCustomPagesParams['slots'], validItems: string[]): boolean => {\n  const { label, url } = props;\n  const { default: defaultSlot, labelIcon } = slots;\n  return !defaultSlot && !url && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomPage = (props: any, slots: AddCustomPagesParams['slots']): boolean => {\n  const { label, url } = props;\n  const { default: defaultSlot, labelIcon } = slots;\n  return !!defaultSlot && !!url && !!labelIcon && !!label;\n};\n\nconst isExternalLink = (props: any, slots: AddCustomPagesParams['slots']): boolean => {\n  const { label, url } = props;\n  const { default: defaultSlot, labelIcon } = slots;\n  return !defaultSlot && !!url && !!labelIcon && !!label;\n};\n", "import { defineComponent, inject } from 'vue';\n\nimport { errorThrower } from '../../../errors/errorThrower';\nimport { organizationProfileLinkRenderedError, organizationProfilePageRenderedError } from '../../../errors/messages';\nimport { OrganizationProfileInjectionKey } from '../../../keys';\nimport type { OrganizationLinkProps, OrganizationProfilePageProps } from '../../../types';\nimport _OrganizationProfile from './OrganizationProfile.vue';\n\nexport const OrganizationProfilePage = defineComponent(\n  (props: OrganizationProfilePageProps, { slots }) => {\n    const ctx = inject(OrganizationProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(organizationProfilePageRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: OrganizationProfilePage,\n    });\n\n    return () => null;\n  },\n  { name: 'OrganizationProfilePage' },\n);\n;Object.defineProperty(OrganizationProfilePage, \"props\", {\n  value: [\"label\",\"url\"],\n});\n\nexport const OrganizationProfileLink = defineComponent(\n  (props: OrganizationLinkProps, { slots }) => {\n    const ctx = inject(OrganizationProfileInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(organizationProfileLinkRenderedError);\n    }\n\n    ctx.addCustomPage({\n      props,\n      slots,\n      component: OrganizationProfileLink,\n    });\n\n    return () => null;\n  },\n  { name: 'OrganizationProfileLink' },\n);\n;Object.defineProperty(OrganizationProfileLink, \"props\", {\n  value: [\"url\",\"label\"],\n});\n\nexport const OrganizationProfile = Object.assign(_OrganizationProfile, {\n  Page: OrganizationProfilePage,\n  Link: OrganizationProfileLink,\n});\n", "<script setup lang=\"ts\">\nimport { computed, provide } from 'vue';\nimport { useOrganizationProfileCustomPages } from '../../../utils/useCustomPages';\nimport { useClerk } from '../../../composables';\nimport type { OrganizationProfileProps } from '@clerk/shared/types';\nimport { OrganizationProfileInjectionKey } from '../../../keys';\nimport { ClerkHostRenderer, CustomPortalsRenderer } from '../../ClerkHostRenderer';\n\ntype Props = Omit<OrganizationProfileProps, 'customPages'>;\nconst props = defineProps<Props>();\n\nconst clerk = useClerk();\n\nconst { customPages, customPagesPortals, addCustomPage } = useOrganizationProfileCustomPages();\n\nconst finalProps = computed(() => ({\n  ...props,\n  customPages: customPages.value,\n}));\n\nprovide(OrganizationProfileInjectionKey, {\n  addCustomPage,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountOrganizationProfile\"\n    :unmount=\"clerk?.unmountOrganizationProfile\"\n    :props=\"finalProps\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n  />\n  <CustomPortalsRenderer :custom-pages-portals=\"customPagesPortals\" />\n  <slot />\n</template>\n", "import { type Component } from 'vue';\n\nexport const isThatComponent = (v: any, component: Component): v is Component => {\n  return !!v && isRenderFunction(v) && v.name === component.name;\n};\n\nconst isRenderFunction = (v: any): v is Component => {\n  return 'name' in v && 'setup' in v;\n};\n", "import type { Slot } from 'vue';\nimport { computed, h, ref, Teleport } from 'vue';\n\ninterface RawPortal {\n  id: string;\n  el: HTMLDivElement;\n  slot: Slot;\n}\n\nfunction generateElementIdentifier() {\n  return Math.random().toString(36).substring(2, 7);\n}\n\nexport const useCustomElementPortal = () => {\n  const rawPortals = ref<RawPortal[]>([]);\n  const portals = computed(() => {\n    return rawPortals.value.map(item => {\n      return h(Teleport, { to: item.el }, item.slot());\n    });\n  });\n\n  const mount = (el: HTMLDivElement, slot: Slot) => {\n    const id = generateElementIdentifier();\n    el.setAttribute('data-clerk-mount-id', id);\n    rawPortals.value.push({\n      id,\n      el,\n      slot,\n    });\n  };\n\n  const unmount = (el: HTMLDivElement | undefined) => {\n    const id = el?.getAttribute('data-clerk-mount-id');\n    if (id) {\n      const index = rawPortals.value.findIndex(portal => portal.id === id);\n      if (index !== -1) {\n        rawPortals.value.splice(index, 1);\n      }\n    }\n  };\n\n  return {\n    portals,\n    mount,\n    unmount,\n  };\n};\n", "<script setup lang=\"ts\">\nimport { useClerk } from '../../../composables';\nimport type { OrganizationSwitcherProps, OrganizationProfileProps } from '@clerk/shared/types';\nimport { ClerkHostRenderer, CustomPortalsRenderer } from '../../ClerkHostRenderer';\nimport { useOrganizationProfileCustomPages } from '../../../utils/useCustomPages';\nimport { computed, provide } from 'vue';\nimport { OrganizationProfileInjectionKey } from '../../../keys';\n\nconst clerk = useClerk();\n\ntype Props = Omit<OrganizationSwitcherProps, 'organizationProfileProps' | '__experimental_asStandalone'> & {\n  organizationProfileProps?: Pick<OrganizationProfileProps, 'appearance'>;\n};\nconst props = defineProps<Props>();\n\nconst { customPages, customPagesPortals, addCustomPage } = useOrganizationProfileCustomPages();\n\nconst finalProps = computed<Props>(() => ({\n  ...props,\n  organizationProfileProps: {\n    ...(props.organizationProfileProps || {}),\n    customPages: customPages.value,\n  },\n}));\n\nprovide(OrganizationProfileInjectionKey, {\n  addCustomPage,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountOrganizationSwitcher\"\n    :unmount=\"clerk?.unmountOrganizationSwitcher\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"finalProps\"\n  />\n  <CustomPortalsRenderer :custom-pages-portals=\"customPagesPortals\" />\n  <slot />\n</template>\n", "import { OrganizationProfileLink, OrganizationProfilePage } from '../OrganizationProfile';\nimport _OrganizationSwitcher from './OrganizationSwitcher.vue';\n\nexport const OrganizationSwitcher = Object.assign(_OrganizationSwitcher, {\n  OrganizationProfilePage,\n  OrganizationProfileLink,\n});\n", "<script setup lang=\"ts\">\nimport { ClerkHostRenderer } from '../ClerkHostRenderer';\nimport type { UserAvatarProps } from '@clerk/shared/types';\nimport { useClerk } from '../../composables';\n\nconst clerk = useClerk();\nconst props = defineProps<UserAvatarProps>();\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountUserAvatar\"\n    :unmount=\"clerk?.unmountUserAvatar\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n    :props=\"props\"\n  />\n</template>\n", "import { defineComponent, inject, provide } from 'vue';\n\nimport { errorThrower } from '../../../errors/errorThrower';\nimport {\n  userButtonMenuActionRenderedError,\n  userButtonMenuItemsRenderedError,\n  userButtonMenuLinkRenderedError,\n} from '../../../errors/messages';\nimport { UserButtonInjectionKey, UserButtonMenuItemsInjectionKey } from '../../../keys';\nimport type { UserButtonActionProps, UserButtonLinkProps } from '../../../types';\nimport { UserProfileLink, UserProfilePage } from '../UserProfile';\nimport _UserButton from './UserButton.vue';\n\nconst MenuItems = defineComponent((_, { slots }) => {\n  const ctx = inject(UserButtonInjectionKey);\n\n  if (!ctx) {\n    return errorThrower.throw(userButtonMenuItemsRenderedError);\n  }\n\n  provide(UserButtonMenuItemsInjectionKey, ctx);\n  return () => slots.default?.();\n});\n\nexport const MenuAction = defineComponent(\n  (props: UserButtonActionProps, { slots }) => {\n    const ctx = inject(UserButtonMenuItemsInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userButtonMenuActionRenderedError);\n    }\n\n    ctx.addCustomMenuItem({\n      props,\n      slots,\n      component: MenuAction,\n    });\n\n    return () => null;\n  },\n  { name: 'MenuAction' },\n);\n;Object.defineProperty(MenuAction, \"props\", {\n  value: [\"label\",\"onClick\",\"open\"],\n});\n\nexport const MenuLink = defineComponent(\n  (props: UserButtonLinkProps, { slots }) => {\n    const ctx = inject(UserButtonMenuItemsInjectionKey);\n    if (!ctx) {\n      return errorThrower.throw(userButtonMenuLinkRenderedError);\n    }\n\n    ctx.addCustomMenuItem({\n      props,\n      slots,\n      component: MenuLink,\n    });\n\n    return () => null;\n  },\n  { name: 'MenuLink' },\n);\n;Object.defineProperty(MenuLink, \"props\", {\n  value: [\"href\",\"label\"],\n});\n\nexport const UserButton = Object.assign(_UserButton, {\n  MenuItems,\n  Action: MenuAction,\n  Link: MenuLink,\n  UserProfilePage,\n  UserProfileLink,\n});\n", "<script setup lang=\"ts\">\nimport { useClerk } from '../../../composables';\nimport type { UserButtonProps, UserProfileProps } from '@clerk/shared/types';\nimport { ClerkHostRenderer, CustomPortalsRenderer } from '../../ClerkHostRenderer';\nimport { computed, provide } from 'vue';\nimport { UserButtonInjectionKey, UserProfileInjectionKey } from '../../../keys';\nimport { useUserProfileCustomPages } from '../../../utils/useCustomPages';\nimport { useUserButtonCustomMenuItems } from '../../../utils/useCustomMenuItems';\n\ntype Props = Omit<UserButtonProps, 'userProfileProps' | 'customMenuItems'> & {\n  userProfileProps?: Pick<UserProfileProps, 'additionalOAuthScopes' | 'appearance' | 'apiKeysProps'>;\n};\nconst props = defineProps<Props>();\n\nconst clerk = useClerk();\n\nconst { customMenuItems, customMenuItemsPortals, addCustomMenuItem } = useUserButtonCustomMenuItems();\nconst { customPages, customPagesPortals, addCustomPage } = useUserProfileCustomPages();\n\nconst finalProps = computed<Props>(() => ({\n  ...props,\n  userProfileProps: {\n    ...(props.userProfileProps || {}),\n    customPages: customPages.value,\n  },\n  customMenuItems: customMenuItems.value,\n}));\n\nprovide(UserButtonInjectionKey, {\n  addCustomMenuItem,\n});\nprovide(UserProfileInjectionKey, {\n  addCustomPage,\n});\n</script>\n\n<template>\n  <ClerkHostRenderer\n    :mount=\"clerk?.mountUserButton\"\n    :unmount=\"clerk?.unmountUserButton\"\n    :props=\"finalProps\"\n    :update-props=\"(clerk as any)?.__unstable__updateProps\"\n  />\n  <CustomPortalsRenderer\n    :custom-pages-portals=\"customPagesPortals\"\n    :custom-menu-items-portals=\"customMenuItemsPortals\"\n  />\n  <slot />\n</template>\n", "import type { CustomMenuItem } from '@clerk/shared/types';\nimport { logErrorInDevMode } from '@clerk/shared/utils';\nimport { ref } from 'vue';\n\nimport { MenuAction, MenuLink } from '../components/ui-components/UserButton';\nimport { userButtonMenuItemActionWrongProps, userButtonMenuItemLinkWrongProps } from '../errors/messages';\nimport type { AddCustomMenuItemParams, UserButtonActionProps, UserButtonLinkProps } from '../types';\nimport { isThatComponent } from './componentValidation';\nimport { useCustomElementPortal } from './useCustomElementPortal';\n\nexport const useUserButtonCustomMenuItems = () => {\n  const customMenuItems = ref<CustomMenuItem[]>([]);\n  const { portals: customMenuItemsPortals, mount, unmount } = useCustomElementPortal();\n  const reorderItemsLabels = ['manageAccount', 'signOut'];\n\n  function addCustomMenuItem(params: AddCustomMenuItemParams) {\n    const { props, component, slots } = params;\n    const { label, onClick, open, href } = props;\n\n    if (isThatComponent(component, MenuAction)) {\n      if (isReorderItem(props, slots, reorderItemsLabels)) {\n        // This is a reordering item\n        customMenuItems.value.push({ label });\n      } else if (isCustomMenuItem(props, slots)) {\n        const baseItem: CustomMenuItem = {\n          label,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n        };\n\n        if (onClick !== undefined) {\n          customMenuItems.value.push({\n            ...baseItem,\n            onClick,\n            open,\n          });\n        } else if (open !== undefined) {\n          customMenuItems.value.push({\n            ...baseItem,\n            open: open.startsWith('/') ? open : `/${open}`,\n          });\n        } else {\n          // Handle the case where neither onClick nor open is defined\n          logErrorInDevMode('Custom menu item must have either onClick or open property');\n          return;\n        }\n      } else {\n        logErrorInDevMode(userButtonMenuItemActionWrongProps);\n        return;\n      }\n    }\n\n    if (isThatComponent(component, MenuLink)) {\n      if (isExternalLink(props, slots)) {\n        customMenuItems.value.push({\n          label,\n          href,\n          mountIcon(el) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            mount(el, slots.labelIcon!);\n          },\n          unmountIcon: unmount,\n        });\n      } else {\n        logErrorInDevMode(userButtonMenuItemLinkWrongProps);\n        return;\n      }\n    }\n  }\n\n  return {\n    customMenuItems,\n    customMenuItemsPortals,\n    addCustomMenuItem,\n  };\n};\n\nconst isReorderItem = (props: any, slots: AddCustomMenuItemParams['slots'], validItems: string[]): boolean => {\n  const { label, onClick } = props;\n  const { labelIcon } = slots;\n  return !onClick && !labelIcon && validItems.some(v => v === label);\n};\n\nconst isCustomMenuItem = (props: any, slots: AddCustomMenuItemParams['slots']): props is UserButtonActionProps => {\n  const { label, onClick, open } = props;\n  const { labelIcon } = slots;\n  return !!labelIcon && !!label && (typeof onClick === 'function' || typeof open === 'string');\n};\n\nconst isExternalLink = (props: any, slots: AddCustomMenuItemParams['slots']): props is UserButtonLinkProps => {\n  const { label, href } = props;\n  const { labelIcon } = slots;\n  return !!href && !!labelIcon && !!label;\n};\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { SignInButtonProps } from '@clerk/shared/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\nconst props = defineProps<SignInButtonProps>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign in');\n  return assertSingleChild(children, 'SignInButton');\n}\n\nfunction clickHandler() {\n  const { mode, ...opts } = props;\n\n  if (mode === 'modal') {\n    return clerk.value?.openSignIn({ ...opts, appearance: props.appearance });\n  }\n\n  const { withSignUp, ...redirectOpts } = opts;\n\n  void clerk.value?.redirectToSignIn({\n    ...redirectOpts,\n    signInFallbackRedirectUrl: props.fallbackRedirectUrl,\n    signInForceRedirectUrl: props.forceRedirectUrl,\n  });\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { SignUpButtonProps } from '@clerk/shared/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\nconst props = defineProps<SignUpButtonProps>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign up');\n  return assertSingleChild(children, 'SignUpButton');\n}\n\nfunction clickHandler() {\n  const { mode, ...opts } = props;\n\n  if (mode === 'modal') {\n    return clerk.value?.openSignUp({ ...opts, appearance: props.appearance });\n  }\n\n  void clerk.value?.redirectToSignUp({\n    ...opts,\n    signUpFallbackRedirectUrl: props.fallbackRedirectUrl,\n    signUpForceRedirectUrl: props.forceRedirectUrl,\n  });\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { SignOutOptions } from '@clerk/shared/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\ninterface SignOutButtonProps {\n  signOutOptions?: SignOutOptions;\n  sessionId?: string;\n  redirectUrl?: string;\n}\n\nconst props = defineProps<SignOutButtonProps>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign out');\n  return assertSingleChild(children, 'SignOutButton');\n}\n\nfunction clickHandler() {\n  const signOutOptions: SignOutOptions = {\n    redirectUrl: props.signOutOptions?.redirectUrl ?? props.redirectUrl,\n    sessionId: props.signOutOptions?.sessionId ?? props.sessionId,\n  };\n  void clerk.value?.signOut(signOutOptions);\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "<script setup lang=\"ts\">\nimport { useAttrs, useSlots } from 'vue';\nimport type { RedirectUrlProp } from '@clerk/shared/types';\nimport { useClerk } from '../composables/useClerk';\nimport { assertSingleChild, normalizeWithDefaultValue } from '../utils';\n\ntype Props = RedirectUrlProp & {\n  mode?: 'modal' | 'redirect';\n};\n\nconst props = defineProps<Props>();\n\nconst clerk = useClerk();\nconst slots = useSlots();\nconst attrs = useAttrs();\n\nfunction getChildComponent() {\n  const children = normalizeWithDefaultValue(slots.default?.({}), 'Sign in with Metamask');\n  return assertSingleChild(children, 'SignInWithMetamaskButton');\n}\n\nfunction clickHandler() {\n  void clerk.value?.authenticateWithMetamask({ redirectUrl: props.redirectUrl || undefined });\n}\n</script>\n\n<template>\n  <component\n    :is=\"getChildComponent\"\n    v-bind=\"attrs\"\n    @click=\"clickHandler\"\n  >\n    <slot />\n  </component>\n</template>\n", "import { inBrowser } from '@clerk/shared/browser';\nimport { deriveState } from '@clerk/shared/deriveState';\nimport { loadClerkJsScript, type LoadClerkJsScriptOptions } from '@clerk/shared/loadClerkJsScript';\nimport type {\n  Clerk,\n  ClientResource,\n  InitialState,\n  MultiDomainAndOrProxy,\n  Resources,\n  Without,\n} from '@clerk/shared/types';\nimport type { Plugin } from 'vue';\nimport { computed, ref, shallowRef, triggerRef } from 'vue';\n\nimport { ClerkInjectionKey } from './keys';\n\nexport type PluginOptions = Without<LoadClerkJsScriptOptions, 'domain' | 'proxyUrl'> &\n  MultiDomainAndOrProxy & {\n    initialState?: InitialState;\n  };\n\nconst SDK_METADATA = {\n  name: PACKAGE_NAME,\n  version: PACKAGE_VERSION,\n  environment: process.env.NODE_ENV,\n};\n\n/**\n * Vue plugin for integrating Clerk.\n *\n * @example\n * ```ts\n * import { createApp } from 'vue'\n * import { clerkPlugin } from '@clerk/vue'\n * import App from './App.vue'\n *\n * const app = createApp(App)\n *\n * app.use(clerkPlugin, {\n *   publishableKey: 'pk_'\n * })\n *\n * app.mount('#app')\n * ```\n */\nexport const clerkPlugin: Plugin<[PluginOptions]> = {\n  install(app, pluginOptions) {\n    const { initialState } = pluginOptions || {};\n\n    const loaded = shallowRef(false);\n    const clerk = shallowRef<Clerk | null>(null);\n\n    const resources = ref<Resources>({\n      client: undefined as unknown as ClientResource,\n      session: undefined,\n      user: undefined,\n      organization: undefined,\n    });\n\n    const options = {\n      ...pluginOptions,\n      sdkMetadata: pluginOptions.sdkMetadata || SDK_METADATA,\n    } as LoadClerkJsScriptOptions;\n\n    // We need this check for SSR apps like Nuxt as it will try to run this code on the server\n    // and loadClerkJsScript contains browser-specific code\n    if (inBrowser()) {\n      void loadClerkJsScript(options).then(async () => {\n        if (!window.Clerk) {\n          throw new Error('Failed to download latest ClerkJS. Contact support@clerk.com.');\n        }\n\n        clerk.value = window.Clerk;\n        await window.Clerk.load(options);\n        loaded.value = true;\n\n        clerk.value.addListener(payload => {\n          resources.value = payload;\n        });\n\n        // When Clerk updates its state internally, Vue's reactivity system doesn't detect\n        // the change since it's an external object being mutated. triggerRef() forces Vue\n        // to re-evaluate all dependencies regardless of how the value was changed.\n        triggerRef(clerk);\n      });\n    }\n\n    const derivedState = computed(() => deriveState(loaded.value, resources.value, initialState));\n\n    const authCtx = computed(() => {\n      const {\n        sessionId,\n        userId,\n        orgId,\n        actor,\n        orgRole,\n        orgSlug,\n        orgPermissions,\n        sessionStatus,\n        sessionClaims,\n        factorVerificationAge,\n      } = derivedState.value;\n      return {\n        sessionId,\n        userId,\n        actor,\n        orgId,\n        orgRole,\n        orgSlug,\n        orgPermissions,\n        sessionStatus,\n        sessionClaims,\n        factorVerificationAge,\n      };\n    });\n    const clientCtx = computed(() => resources.value.client);\n    const userCtx = computed(() => derivedState.value.user);\n    const sessionCtx = computed(() => derivedState.value.session);\n    const organizationCtx = computed(() => derivedState.value.organization);\n\n    app.provide(ClerkInjectionKey, {\n      clerk,\n      authCtx,\n      clientCtx,\n      sessionCtx,\n      userCtx,\n      organizationCtx,\n    });\n  },\n};\n"],
  "mappings": "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",
  "names": ["ClerkError", "ClerkAPIResponseError", "packageName", "customMessages", "ClerkRuntimeError", "TYPES_TO_OBJECTS: TypesToConfig", "checkOrgAuthorization: CheckOrgAuthorization", "checkBillingAuthorization: CheckBillingAuthorization", "config", "checkReverificationAuthorization: CheckReverificationAuthorization", "computed", "decodedFrontendApi: string", "errorThrower", "timeoutId", "pollInterval", "obj: Record<string, string>", "EVENT_SAMPLING_RATE", "userId: string | null | undefined", "sessionId: string | null | undefined", "sessionClaims: JwtPayload | null | undefined", "factorVerificationAge: [number, number] | null", "orgId: string | null | undefined", "computed", "watch", "eventMethodCalled", "defineComponent", "_createBlock", "ref", "h", "provide", "_createVNode", "_renderSlot", "inject", "isReorderItem", "logErrorInDevMode", "isExternalLink", "useSlots", "useAttrs", "_resolveDynamicComponent", "_mergeProps", "_withCtx"]
}
